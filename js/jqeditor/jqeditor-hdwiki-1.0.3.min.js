/**
 * jQEditor - WYSIWYG HTML Editor for Internet
 * Copyright (c) 2011, jQEditor.com All rights reserved.
 * MIT Licensed.
 * Depends: jQuery1.32+
 * Date: 2011-09-20
 * Version: 1.0.3
 *
 */
(function(b){function f(j,i){if(a){if(!j)return c;if(typeof j!=="string")return alert("log(type, msg)\u65b9\u6cd5\u7684\u53c2\u6570type\u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),!1;j=b.trim(j);if(i&&typeof i==="string"){c[j]||(c[j]=[]);c[j].push(i);if(typeof console==="object")switch(d+=1,i=d+"."+i,j){case "run":console.log(i);break;case "warning":console.warn(i);break;case "error":console.error(i);break;default:console.log(i)}return!0}else return c[j]?c[j]:c}}function g(a){l[a]=function(j,
d,b){return i[a](j,d,b)}}function h(){this.enabled=1;this.logs=[]}function e(){this.enabled=1;this.locked=0;this.isNeedTitle=this.isNeedPanel=1;this.title="";this.config=null;this.menuTitle=this.style="";this.menuType="Panel";this.inserthtml="base";this.killEvents=this.event=this.panel=null;this.cache=[];this.logs=[];this.callback=this.one=this.Selection=null}var c={},a=!1,d=0,j=function(){var a=new Date,j=a.getMonth()+1,d=a.getFullYear();return""+d+(j<10?"0"+j:j)+a.getDate()}(),a=typeof JQEDEBUG!==
"undefined"&&JQEDEBUG?!0:!1,l=window.jQEditor=b.editor=function(a){i.create(a);return l},k={typeof_function:"function",re_string:/string/i,re_object:/object/i,re_obj_fn:/object|function/i,IE:b.browser.msie,mozilla:b.browser.mozilla,script_path:"",returnFalse:function(){return!1},baseCmds:"Cut,Copy,Paste,Bold,Italic,Underline,StrikeThrough,InsertOrderedList,InsertUnorderedList,JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,Outdent,Indent,SubScript,SuperScript,RemoveFormat".split(","),closeStyleCmd:/bold|italic|underline|strikeThrough/i,
IE6:b.browser.msie&&b.browser.version=="6.0",IE678:b.browser.msie&&/[678]/.test(b.browser.version)};f("run","start");b.extend(l,{consts:k,eid:"",styleContent:[],styleSkin:[],init:function(){var a=0,j=0,d="",b="extend,mod,plugin,icon,lang,log,showError,showNotice,alert,hideMessage,addFilter,getHTML,setHTML,hidePanel,$,pluginExit,action,pasteHTML,execCommand,iframe,getButtonByName".split(",");f("run","init: "+b.join(","));for(a=0,j=b.length;a<j;a++)d=b[a],g(d)},config:function(a,j){return j&&a?(i.config[a]=
j,this):a&&typeof a==="object"?(i.config=b.extend(i.config,a),this):a&&typeof a==="string"?i.config[a]:i.config},get:function(a){if(/(option|body|document|window|iframe)/.test(a))return i.get(a)},setEid:function(a){i.setEid(a)},focus:function(){i.focus()},monitor:function(a){i.monitor(a)},disablePlugin:function(a){(Plugin=i.plugin(a))&&Plugin.disable()},enablePlugin:function(a){(Plugin=i.plugin(a))&&Plugin.enable()},hidePlugin:function(a){if(Plugin=i.plugin(a))return Plugin.hide(),Plugin},clickPlugin:function(a){if(a=
i.plugin(a))return a.click(i.mod("Panel"),a),a},getSubmitHtml:function(a){a&&i.setEid(a);(a=i.plugin("Cleanup"))&&a.click();return i.getHTML()}});l.init();var i={version:"1.0",config:{},bodys:{},iframes:{},documents:{},windows:{},options:{},eid:"",pluginStyle:[],plugins:{},mods:{},icons:{},defaults:{},extend:function(){},isExtend:[],plugin:function(){},mod:function(){},icon:function(){},langs:{},open:function(){},log:function(){},domFilters:{},htmlFilters:{}};i.extend=function(a,j){if(!a||typeof a!==
"string")return f("error","E.extend(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570name\u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),this;a=b.trim(a);i.isExtend[a]?f("run","\u7f16\u8f91\u5668\u5df2\u7ecf\u5b58\u5728\u540d\u5b57\u4e3a"+a+"\u5bf9\u8c61"):(i[a]=j,i.isExtend[a]=1);return this};var o=!1;i.extend("monitor",function(a){o||(a=a||"",i.log("run","E.Event.trigger( {type:onmonitor, cmd:"+a+"} );"),i.Event.trigger({type:"onmonitor",cmd:a}),o=!0,setTimeout(function(){o=!1},300))});i.extend("get",
function(a,j){a+="s";j=j||i.eid;if(i[a]&&i[a][j])return i[a][j];else i[a]?f("warning","\u7f16\u8f91\u5668eid="+j+"\u4e0d\u5b58\u5728"):f("warning","\u7f16\u8f91\u5668\u4e0d\u5b58\u5728\u53d8\u91cf:"+a)});i.extend("setEid",function(a){if(a&&typeof a==="string"&&i.options[a]){if(a!==i.eid){i.eid=l.eid=a;var j=i.options[a].plugin,d=null,b=null;if(j&&typeof j==="object")for(var c in j)if(d=j[c],b=i.plugin(c),d&&typeof d==="object"){for(var e in d)if(b[e]){var k=d[e];if(/^(string|number|boolean)$/i.test(typeof k))b[e]=
k;else if(typeof k==="object")for(var h in k)b[e][h]=k[h]}else f("warning","\u63d2\u4ef6"+c+"\u6ca1\u6709key\u503c\uff1a"+e);b.init(b)}f("run","setEid="+a)}}else f("error","\u8bf7\u68c0\u67e5eid="+a+"\u662f\u5426\u6b63\u786e")});i.extend("alert",function(a){alert(a)});i.extend("showError",function(a,j){var d=i.mod("Message");d&&d.showError(a,j)});i.extend("showNotice",function(a,j){var d=i.mod("Message");d&&d.showNotice(a,j)});i.extend("hideMessage",function(a){var j=i.mod("Message");j&&j.hide(a)});
i.extend("$",function(a){var j=i.get("document");return b(a,j)});i.extend("log",function(a,j){return f(a,j)});h.prototype={isEnabled:function(){return this.enabled},enable:function(){this.enabled=1},disable:function(a){this.enabled=0;a&&this.log(a)},log:function(a){this.logs.push(a)}};i.extend("mod",function(a,j){if(!a||typeof a!="string")return f("error","E.mod(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),0;var d;d=i.mods;if(j&&typeof j===
"object")return d[a]?(f("error","\u6a21\u5757"+a+"\u5df2\u7ecf\u5b58\u5728\uff0c\u6ce8\u518c\u5931\u8d25"),0):(f("run","\u6a21\u5757"+a+"\u6ce8\u518c\u6210\u529f"),j.name=a,d[a]=b.extend(new h,j),1);else if(d[a])return d=d[a],d.isEnabled()?d:0;else f("error","\u6a21\u5757"+a+"\u4e0d\u5b58\u5728")});e.prototype={click:function(a,j){a&&j.isNeedPanel&&a.set(j);typeof j.set===k.typeof_function&&j.set(a,j);return!0},action:function(){},getCursorElement:function(){return i.mod("Selection").getElement()},
getSelectionHtml:function(){return i.mod("Selection").getHtml()},getSelectionText:function(){return""+i.mod("Selection").getText()},getTitle:function(){var a=i.get("option"),a=i.lang(a.lang)[this.name];return typeof a=="string"?a:a&&typeof a=="object"&&a.title?a.title:"\u672a\u5b9a\u4e49"},pasteHTML:function(a){a&&i.pasteHTML(a)},panelHtml:function(){return this.cache.html},getValues:function(a){var a=a||this.panel,j={},a=a.find(":input").serializeArray();b.each(a,function(a,d){if(d.name)j[d.name]=
d.value});return j},error:function(a){var j=i.mod("Panel");j&&j.error(a);this.unlock()},notice:function(a){var j=i.mod("Panel");j&&j.notice(a)},hide:function(){var a=i.mod("Panel");a&&a.hide()},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.enabled=!0;var a=i.getButtonByName(this.name),j=a.children(),d=j.attr("_title");a.removeClass("disabled");j.attr("title",d)}},disable:function(a){if(this.enabled){this.enabled=!1;var j=i.getButtonByName(this.name),d=j.children(),
b=d.attr("_title");j.addClass("disabled");d.attr("title",b+" \u5f53\u524d\u4e0d\u53ef\u7528");a&&this.log(a)}},lock:function(a){var j=i.mod("Panel"),d=i.mod("Toolbar");if(!this.locked)this.locked=1,a==="toolbar"?d.lock():a==="panel"?this.panel&&j.lock(this.panel):(this.panel&&j.lock(this.panel),d.lock())},unlock:function(a){var j=i.mod("Panel"),d=i.mod("Toolbar");if(this.locked)this.locked=0,a==="toolbar"?d.unlock():a==="panel"?this.panel&&j.unlock(this.panel):(this.panel&&j.unlock(this.panel),d.unlock())},
islock:function(){return this.locked},log:function(a){this.logs.push(a)}};i.extend("plugin",function(a,j){var d=typeof j,c=typeof a,l=i.plugins;if(!a||c!="string"&&!b.isArray(a))return alert("E.plugin(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name="+c+" \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32\u6216\u6570\u7ec4"),0;if(j&&k.re_obj_fn.test(d)){var h,g;c=="string"?h=a.split(","):b.isArray(a)&&(h=a);for(var o=h.length-1;o>=0;o--)if(c=b.trim(h[o]))if(l[c])l[c].type==="base"?(l[c]=b.extend(l[c],
j),f("notice","\u57fa\u7840\u63d2\u4ef6"+c+"\u88ab\u8986\u76d6\u6dfb\u52a0")):i.alert("\u63d0\u793a\uff1a\u63d2\u4ef6 "+c+" \u5df2\u7ecf\u5b58\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0\uff01");else{j.name=c;d==="object"?(g=new e,l[c]=b.extend(g,j)):d==="function"&&(l[c]=j);g=l[c];if(!g.type)g.type="general";g.type==="base"?f("run","\u57fa\u7840\u63d2\u4ef6"+c+"\u6dfb\u52a0\u6210\u529f"):(g.Selection=i.mod("Selection"),f("run","\u81ea\u5b9a\u4e49\u63d2\u4ef6"+c+"\u6dfb\u52a0\u6210\u529f"));if(d===
"function")break;if(typeof g.init!=k.typeof_function)g.isNeedPanel=0;if(g.lang&&typeof g.lang==="object")for(var m in g.lang)i.lang(m,g.lang[m]);if(g.icon&&typeof g.icon==="object")for(var n in g.icon)typeof g.icon[n]==="object"&&i.icon(n,g.icon[n]);g.style&&i.pluginStyle.push(g.style);if(g.depends&&b.isArray(g.depends))for(var u=0,y=g.depends.length;u<y;u++)if(a=g.depends[u],!i.mod(a)){g.disable();f("warning","\u63d2\u4ef6 "+c+"\u7f3a\u5c11\u4f9d\u8d56\u6a21\u5757: "+a);break}}return this}else return l[a]?
l[a]:null});i.extend("icon",function(a,j){if(!a||typeof a!="string")return f("error","E.icon(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),0;var d=i.icons;return j&&k.re_object.test(typeof j)?(d[a]?d[a]=b.extend(d[a],j):(d[a]=j,f("run","\u6309\u94ae\u80cc\u666f\u5750\u6807"+a+"\u6dfb\u52a0\u6210\u529f")),1):d[a]?d[a]:0});i.extend("lang",function(a,j){if(!a||typeof a!="string")return f("error","E.lang(name, obj)\u65b9\u6cd5\u7684\u53c2\u6570 name \u5fc5\u987b\u662f\u6709\u6548\u7684\u5b57\u7b26\u4e32"),
0;var d=i.langs;return j&&k.re_object.test(typeof j)?(d[a]?d[a]=b.extend(d[a],j):(d[a]=j,f("run","\u8bed\u8a00\u5305"+a+"\u6dfb\u52a0\u6210\u529f")),1):d[a]?d[a]:0});i.extend("_closeStyleWithCSS",function(a){try{a.execCommand("styleWithCSS",0,!1)}catch(j){try{a.execCommand("useCSS",0,!0)}catch(d){try{a.execCommand("styleWithCSS",!1,!1)}catch(b){}}}});i.extend("focus",function(){var a=i.windows[i.eid];a&&a.focus()});i.extend("execCommand",function(a,j,d){var b=i.get("document");b?(j===null&&(j=!1),
!k.IE&&a=="BackColor"&&(a="hiliteColor"),i.focus(),b.execCommand(a,j,d),f("run","\u6267\u884c\u7f16\u8f91\u5668\u547d\u4ee4\uff1a"+a)):f("error","\u6267\u884c\u7f16\u8f91\u5668\u547d\u4ee4"+a+"\u65f6\u51fa\u73b0\u610f\u5916\uff0c\u6ca1\u6709\u5f97\u5230dom\u5bf9\u8c61")});i.extend("pasteHTML",function(a){var j=i.mod("Selection");j&&j.set(a);f("run","\u5411\u7f16\u8f91\u5668\u63d2\u5165\u5185\u5bb9\uff1a"+a)});i.extend("getHTML",function(a){var a=typeof a==="undefined"?!0:a,j=i.get("document");return a?
i.execFilter(j):j.body.innerHTML});i.extend("setHTML",function(a){var j=i.get("document");j.body.innerHTML!=a&&(i.execFilter(j,a),i.monitor("setHTML"),f("run","\u91cd\u7f6e\u7f16\u8f91\u5668\u5185\u5bb9\uff1a"+j.body.innerHTML));return 1});var m={type:"dom",dom:null,enabled:1,check:function(){return this.isEnabled()?!0:!1},isEnabled:function(){return this.enabled},enable:function(){this.enabled=1},disable:function(){this.enabled=0}};i.extend("addFilter",function(a,j){typeof j==="object"&&typeof j.replace===
"function"?j=j.type&&j.type==="html"?i.htmlFilters[a]=b.extend({},m,j):i.domFilters[a]=b.extend({},m,j):i.alert("\u63d0\u793a\uff1a\u5185\u5bb9\u8fc7\u6ee4\u5668"+a+"\u7f3a\u5c11replace\u65b9\u6cd5\u3002");return j});i.extend("execFilter",function(a,j){var d,c=i.domFilters,l=i.htmlFilters,e="",k=i.get("option");if(j){for(var h in l)if(d=l[h],b.inArray("filter."+h,k.disabled)===-1&&d.check())d.dom=a,j=d.replace(j),f("run","\u6267\u884chtml\u8fc7\u6ee4\u5668"+h);a.body.innerHTML=j}for(h in c)if(d=c[h],
b.inArray("filter."+h,k.disabled)===-1&&d.check())d.dom=a,d.replace(a),f("run","\u6267\u884cdom\u8fc7\u6ee4\u5668"+h);e=a.body.innerHTML;if(!j)for(h in l)if(d=l[h],b.inArray("filter."+h,k.disabled)===-1&&d.check())d.dom=a,e=d.replace(e),f("run","\u6267\u884chtml\u8fc7\u6ee4\u5668"+h);return e=e.replace(/^(\s|&nbsp;|<br\s?\/?>)+/i,"").replace(/(\s|&nbsp;|<br\s?\/?>)+$/i,"").replace(/^(?:<p>(?:\s|<br\s?\/?>|&nbsp;)*<\/p>)+/i,"").replace(/(?:<p>(?:\s|<br\s?\/?>|&nbsp;)*<\/p>)+$/i,"")});i.extend("getButtonByName",
function(a){return b("#"+i.eid+"-"+a)});i.extend("hidePanel",function(a,j){var d=i.mod("Menu"),c=i.mod("Panel"),f=i.mod("Toolbar"),a=a||"";j==="Panel"?c&&b(".jqe-panel:visible").size()&&(c.hide(),i.log("run","\u9690\u85cf\u9762\u677f("+a+")")):(j!=="Menu"&&c&&b(".jqe-panel:visible").size()&&(c.hide(),i.log("run","\u9690\u85cf\u9762\u677f("+a+")")),d&&b(".jqe-menu:visible").size()&&(d.hide(),i.log("run","\u9690\u85cf\u83dc\u5355("+a+")")));f&&f.resetClickButton()});i.extend("action",function(a,j){var d,
c,e=null,k=!1,h=i.mod("Panel"),g=i.mod("Menu"),o="";typeof a==="string"?(d=a,c=i.eid,o="click",f("run","\u7f16\u8f91\u5668"+c+"\u5373\u5c06\u6267\u884c\u83dc\u5355\u547d\u4ee4"+d)):(d=a.closest("[name]").attr("name"),c=a.closest(".jqeditor").attr("id"),i.setEid(c),a.is(".jqe-icon")?(o="click",f("run","\u7f16\u8f91\u5668"+c+"\u5373\u5c06\u6267\u884c\u5de5\u5177\u680f\u6309\u547d\u4ee4"+d)):a.is(".jqe-button-menu")&&(o="menu",f("run","\u7f16\u8f91\u5668"+c+"\u5373\u5c06\u6267\u884c\u5de5\u5177\u680f\u4e0b\u62c9\u6309\u94ae\u547d\u4ee4"+
d)));e=i.plugin(d);if(!e)return f("error","\u7f16\u8f91\u5668"+c+"\u547d\u4ee4"+d+"\u4e0d\u5b58\u5728"),k;if(typeof a==="object")e.target=a;if(!e.isEnabled())return e.target=null,i.showError(e.title+"\u529f\u80fd\u5904\u4e8e\u7981\u7528\u72b6\u6001"),f("run","\u7f16\u8f91\u5668"+c+"\u7684"+e.title+"\u529f\u80fd\u5904\u4e8e\u7981\u7528\u72b6\u6001\uff0c\u6267\u884c\u5931\u8d25"),k;e.event=j;l.Plugin=i.Plugin=e;if(o=="click")h&&e.isNeedPanel?k=e.click(h,e,a):g?(j&&(a=b(j.target)),k=e.click(g,e,a)):
k=e.click(null,e,a),e.event=null;else if(o=="menu"){var m=!1;e.menuType==="Panel"?(i.hidePanel("action","Menu"),m=h.isShow(e)):e.menuType==="Menu"&&(i.hidePanel("action","Panel"),m=g.isShow(e));m?i.hidePanel("action"):(k=e.menu(h,e,a),f("run","\u7f16\u8f91\u5668"+c+"\u6267\u884c\u4e86\u5de5\u5177\u680f\u4e0b\u62c9\u6309\u94ae\u547d\u4ee4"+d))}i.Event.trigger({type:"onafteraction",Plugin:e});o==="click"&&typeof e.ok==="undefined"&&typeof e.get==="undefined"&&(k&&!/(undo|redo)/i.test(d)&&i.monitor(d),
i.pluginExit());return k});i.extend("pluginExit",function(){if(i.Plugin)i.Plugin.target=null,l.Plugin=i.Plugin=null});i.extend("iframe",function(a,d,c){var e=i.config,h=a.id,g=document.createElement("iframe"),o="";if(a.contentId)if(o=b("#"+h),o.size()){o.addClass("jqeditor");if(!d||typeof d!=="object")d=o.find(".jqe-content");d.size()||(o.append('<div class="jqe-content"></div>'),d=o.find(".jqe-content"))}else alert("\u6307\u5b9a\u7684\u7f16\u8f91\u5668id="+h+"\u4e0d\u5b58\u5728\u3002\uff08E.iframe\uff09");
(!d||typeof d!=="object")&&alert("\u6ca1\u6709\u6307\u5b9aiframe\u5bb9\u5668container\u3002\uff08E.iframe\uff09");b(g).attr({frameBorder:0,name:"iframe_"+h,tabIndex:"0"});a.iframeStyle&&b(g).css(a.iframeStyle);a.autoHeight&&b(g).attr({scrolling:"no"});a.iframeSrc&&b(g).attr({src:a.iframeSrc});b(d).empty().append(g).height(a.height);d=g.contentWindow.document||g.contentDocument;if(c){d.open();o=e.DOCTYPE+'<html xmlns="'+e.xmlns+'" class="CSS1Compat" lang="zh-cn" dir="ltr" style="height:99%"><head>';
o+='<meta http-equiv="Content-Type" content="text/html; charset='+e.charset+'" />';if(l.styleContent.length)o+="<style>"+l.styleContent.join("\n")+"</style>\n";else if(a.contentCssName){var m="jqe-style-content-"+a.contentCssName;cssUrl=e.jqePath+"/skins/content_"+a.contentCssName+".css?"+(a.contentCssVersion?a.contentCssVersion:j);o+='<link id="'+m+'" href="'+cssUrl+'" type="text/css" rel="stylesheet" />'}c=c||"<p>"+e.text+"</p>";o+='</head><body id="'+h+'" style="height:99%">'+c+"</body></html>";
d.write(o);d.close()}if(a.contentEditable)k.IE?d.body.contentEditable="true":d.designMode="On";i.bodys[h]=d.body;i.iframes[h]=g;i.windows[h]=a=g.contentWindow;i.documents[h]=d;f("run","\u6784\u5efa\u7f16\u8f91\u5668"+h+"\u7684iframe\u7f16\u8f91\u5668\u533a\u57df");return{dom:d,win:a}});i.extend("create",function(a){for(var j in i.defaults)a[j]==null&&(a[j]=i.defaults[j]);j=a.id;if(i.options[j])i.alert("\u7f16\u8f91\u5668id\u91cd\u590d\uff0c\u8bf7\u66f4\u6362\uff01");else{i.options[j]=a;i.setEid(j);
i.init(a);var d=b("#"+a.contentId).val();i.iframe(a,null,d);i.Event.trigger({type:"oncreate",value:a,html:d});i.Event.trigger({type:"oncomplete",value:a,html:d});f("run","\u7f16\u8f91\u5668"+j+"\u521b\u5efa\u5b8c\u6210")}});var n=setTimeout(function(){i.ready()},5E3);b(document).ready(function(){clearTimeout(n);i.ready()});i.extend("ready",function(){var a=i.plugins,j,d;for(d in a)j=a[d],typeof j.init==="function"&&j.init(j);i.Event=i.mod("Event");i.Event.trigger({type:"onready"})});i.extend("init",
function(a){var j=a.skin,d=i.icon(j),c=[],e="jqe-style-"+j+"-"+a.id;if(d)for(var l in d)c.push(".jqe-"+j+" ."+l+"{background-position:"+d[l].XY+";}"),d[l].XY=="none"&&c.push("#"+a.id+"-"+l+" .jqe-icon{background:none;}");c.push(i.pluginStyle.join("\n"));b("head").append('<style id="'+e+'">'+c.join("\n")+"</style>");f("run","\u7f16\u8f91\u5668\u6837\u5f0f\u6dfb\u52a0\u5230head\u6807\u7b7e\u5f53\u4e2d")});i.plugin(k.baseCmds,{isNeedPanel:0,type:"base",click:function(){var a=this.name,j=i.documents[i.eid];
if(!k.IE&&/(Cut|Copy|Paste)/.test(a)){j="";switch(a){case "Cut":j="Ctrl + X";break;case "Copy":j="Ctrl + C";break;case "Paste":j="Ctrl + V"}j&&i.showError("\u63d0\u793a\uff1a\u6b64\u529f\u80fd\u4ec5\u5728IE\u6d4f\u89c8\u5668\u4e0b\u53ef\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u5feb\u6377\u952e:"+j);return!1}!k.IE&&k.closeStyleCmd.test(a)&&i._closeStyleWithCSS&&i._closeStyleWithCSS(j);i.execCommand(a);return!0}});setTimeout(function(){i.Event=i.mod("Event")},200)})(jQuery);
(function(b){b.extend("defaults",{id:"jqeditor",contentId:"content",toolbar:"default",lang:"zh-cn",skin:"default",panel:"Panel",contentCssName:"default",contentCssVersion:"",height:350,contentEditable:!0,iframeStyle:{width:"99%",height:"99%",margin:"0 5px"},autoHeight:100,toolbarTop:100,fixedClassName:"jqe-toolbar-fixed",messageSpeed:200,messageDuration:1500,PasteToText:!1,AutoCleanup:!1,plugin:{},disabled:[]});b.extend("config",{DOCTYPE:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',
xmlns:"http://www.w3.org/1999/xhtml",charset:"utf-8",text:"",jqePath:"./",toolbars:{"default":"Source,Save,Undo,Redo,Bold,Italic,Underline,StrikeThrough,SubScript,SuperScript,ForeColor,BackColor,RemoveFormat,Cleanup,PasteToText,PasteWord,JustifyLeft,JustifyCenter,JustifyRight,H1,H2,FontSize,FontName,InsertOrderedList,InsertUnorderedList,Indent,Outdent,Image,Find,Replace,BaikeLink,Link,SpecialChar,InsertTable,Video,MultiImage,Code,InsertDate,InsertTime,Reference,ClearDoc,AutoFormat,Preview,GoogleMap,Help".split(",")},
tagAndDisablePlugin:{"*":["PasteText","PasteWord","H1","H2","FontSize","FontName","Bold","Italic","Underline","Image","SubScript","SuperScript","StrikeThrough","InsertTable","HdImage","MultiImage","ForeColor","BackColor",,"Video","JustifyLeft","BaikeLink","Link","Code","GoogleMap"],a:"*",table:["H1","H2"],h2:"*",h3:"*",sub:"*",sup:"*",pre:"FontSize,Bold,H1,H2,InsertTable,HdImage,MultiImage,Video,JustifyLeft,ForeColor,Code,GoogleMap".split(","),img:"H1,H2,Font,Bold,Italic,Underline,SubScript,SuperScript,StrikeThrough,InsertTable,HdImage,HdImageGroup,ForeColor,BackColor,Video".split(","),
selectedTable:"H1,H2,BaikeLink,Link,Video,HdImage,InsertTable,SpecialChar".split(",")},ctrlKeys:{65:"",66:"Bold",73:"Italic",85:"Underline",90:"Undo",89:"Redo",81:"BaikeLink",49:"H1",97:"H1",50:"H2",98:"H2",38:"RowMoveBefore",219:"CancelAutoFormat",221:"AutoFormat",46:"ClearDoc",110:"ClearDoc",191:"PasteToText",40:"RowMoveAfter"},ctrlShiftKeys:{76:"JustifyLeft",82:"JustifyRight",67:"Cleanup",38:"RowMoveFirst",40:"RowMoveLast"}})})(jQEditor);
(function(b){b.icon("default",{Source:{XY:"-259px 0"},DocProps:{XY:"-900px -20px"},Save:{XY:"-480px -20px"},NewPage:{XY:"-520px 0"},Preview:{XY:"-420px -20px"},Templates:{XY:"-820px -20px"},Cut:{XY:"-680px 0"},Copy:{XY:"-700px 0"},Paste:{XY:"-560px 0"},PasteText:{XY:"-360px -20px"},PasteToText:{XY:"-360px -20px"},PasteWord:{XY:"-380px -20px"},Print:{XY:"-440px -20px"},SpellCheck:{XY:"-540px -20px"},Undo:{XY:"-179px -40px"},Redo:{XY:"-199px -40px"},Find:{XY:"-520px -20px"},Replace:{XY:"-500px -20px"},
SelectAll:{XY:"-400px -20px"},RemoveFormat:{XY:"-580px 0"},Bold:{XY:"-40px -40px"},BoldGroup:{XY:"-40px -40px"},Italic:{XY:"-60px -40px"},Underline:{XY:"-138px -40px"},StrikeThrough:{XY:"-120px 0"},SubScript:{XY:"-600px -40px"},SuperScript:{XY:"-620px -40px"},InsertOrderedList:{XY:"-80px -40px"},InsertUnorderedList:{XY:"-20px -40px"},Outdent:{XY:"-540px -40px"},Indent:{XY:"-400px -40px"},JustifyLeft:{XY:"-460px -40px"},AlignGroup:{XY:"-460px -40px"},JustifyCenter:{XY:"-420px -40px"},JustifyRight:{XY:"-480px -40px"},
JustifyFull:{XY:"-440px 0"},Link:{XY:"-520px -40px"},Unlink:{XY:"-640px 0"},Anchor:{XY:"-200px 0"},Image:{XY:"-900px -40px"},Flash:{XY:"-320px -20px"},InsertTable:{XY:"-580px -20px"},TableGroup:{XY:"-580px -20px"},Smiley:{XY:"-60px -20px"},SpecialChar:{XY:"-240px 0"},PageBreak:{XY:"0 -40px"},ForeColor:{XY:"-720px 0"},BackColor:{XY:"-760px 0"},About:{XY:"-340px 0"},Help:{XY:"-340px 0"},FitWindow:{XY:"-100px -20px"},Blockquote:{XY:"-220px 0"},CreateDiv:{XY:"-260px -20px"},Cleanup:{XY:"-40px 0"},InsertDate:{XY:"-140px -20px"},
InsertTime:{XY:"-160px -20px"},TableProps:{XY:"-580px -20px"},CellProps:{XY:"-600px -20px"},RemoveTable:{XY:"-620px -20px"},RemoveColumn:{XY:"-640px -20px"},RemoveRow:{XY:"-660px -20px"},ColumnInsertAfter:{XY:"-680px -20px"},ColumnInsertBefore:{XY:"-700px -20px"},RowInsertAfter:{XY:"-720px -20px"},RowInsertBefore:{XY:"-740px -20px"},ColumnMergeAfter:{XY:"-600px -20px"},RowMergeAfter:{XY:"-820px -20px"},BaikeLink:{XY:"-500px -40px"},H1:{XY:"-960px 0"},H2:{XY:"-980px 0"},HdImage:{XY:"-380px 0"},FontSize:{XY:"none"},
FontName:{XY:"none"},Video:{XY:"-320px -40px"},SpecialChar:{XY:"-239px 0"},MultiImage:{XY:"-380px -40px"},Code:{XY:"-980px -20px"},SetColumnAlignLeft:{XY:"-460px -40px"},SetColumnAlignRight:{XY:"-480px -40px"},SetColumnAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},ClearDoc:{XY:"-520px 0"},InsertDate:{XY:"-140px -20px"},
InsertTime:{XY:"-160px -20px"},GoogleMap:{XY:"-940px -40px"},Reference:{XY:"-920px 0"}});b.icon("mce",{Source:{XY:"-259px 0"},DocProps:{XY:"-900px -20px"},Save:{XY:"-480px -20px"},NewPage:{XY:"-520px 0"},Preview:{XY:"-420px -20px"},Templates:{XY:"-820px -20px"},Cut:{XY:"-680px 0"},Copy:{XY:"-700px 0"},Paste:{XY:"-560px 0"},PasteText:{XY:"-360px -20px"},PasteToText:{XY:"-360px -20px"},PasteWord:{XY:"-380px -20px"},Print:{XY:"-440px -20px"},SpellCheck:{XY:"-540px -20px"},Undo:{XY:"-158px 0"},Redo:{XY:"-99px 0"},
Find:{XY:"-520px -20px"},Replace:{XY:"-500px -20px"},SelectAll:{XY:"-400px -20px"},RemoveFormat:{XY:"-580px 0"},Bold:{XY:"0 0"},BoldGroup:{XY:"0 0"},Italic:{XY:"-60px 0"},Underline:{XY:"-140px 0"},StrikeThrough:{XY:"-120px 0"},SubScript:{XY:"-600px 0"},SuperScript:{XY:"-620px 0"},InsertOrderedList:{XY:"-80px 0"},InsertUnorderedList:{XY:"-20px 0"},Outdent:{XY:"-540px 0"},Indent:{XY:"-400px 0"},JustifyLeft:{XY:"-460px 0"},AlignGroup:{XY:"-460px 0"},JustifyCenter:{XY:"-420px 0"},JustifyRight:{XY:"-480px 0"},
JustifyFull:{XY:"-440px 0"},Link:{XY:"-520px -40px"},Unlink:{XY:"-640px 0"},Anchor:{XY:"-200px 0"},Image:{XY:"-380px 0"},Flash:{XY:"-320px -20px"},InsertTable:{XY:"-580px -20px"},TableGroup:{XY:"-580px -20px"},Smiley:{XY:"-60px -20px"},SpecialChar:{XY:"-240px 0"},PageBreak:{XY:"0 -40px"},ForeColor:{XY:"-720px 0"},BackColor:{XY:"-760px 0"},About:{XY:"-340px 0"},Help:{XY:"-340px 0"},FitWindow:{XY:"-100px -20px"},Blockquote:{XY:"-220px 0"},CreateDiv:{XY:"-260px -20px"},Cleanup:{XY:"-40px 0"},InsertDate:{XY:"-140px -20px"},
InsertTime:{XY:"-160px -20px"},TableProps:{XY:"-580px -20px"},CellProps:{XY:"-600px -20px"},RemoveTable:{XY:"-620px -20px"},RemoveColumn:{XY:"-640px -20px"},RemoveRow:{XY:"-660px -20px"},ColumnInsertAfter:{XY:"-680px -20px"},ColumnInsertBefore:{XY:"-700px -20px"},RowInsertAfter:{XY:"-720px -20px"},RowInsertBefore:{XY:"-740px -20px"},ColumnMergeAfter:{XY:"-600px -20px"},RowMergeAfter:{XY:"-820px -20px"},BaikeLink:{XY:"-500px -40px"},H1:{XY:"-960px 0"},H2:{XY:"-980px 0"},FontSize:{XY:"none"},FontName:{XY:"none"},
Video:{XY:"-700px -40px"},SpecialChar:{XY:"-239px 0"},MultiImage:{XY:"-380px -40px"},Code:{XY:"-980px -20px"},SetColumnAlignLeft:{XY:"-460px -40px"},SetColumnAlignRight:{XY:"-480px -40px"},SetColumnAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},SetRowAlignLeft:{XY:"-460px -40px"},SetRowAlignRight:{XY:"-480px -40px"},SetRowAlignCenter:{XY:"-420px -40px"},ClearDoc:{XY:"-520px 0"},InsertDate:{XY:"-140px -20px"},
InsertTime:{XY:"-160px -20px"},GoogleMap:{XY:"-940px -40px"},Reference:{XY:"-920px 0"}})})(jQEditor);
(function(b){b.lang("zh-cn",{Source:"\u67e5\u770b\u6e90\u4ee3\u7801",Save:"\u4fdd\u5b58",NewPage:"\u65b0\u5efa",Preview:"\u9884\u89c8",Cut:"\u526a\u5207(Ctrl + X)",Copy:"\u590d\u5236(Ctrl + C)",Paste:"\u7c98\u8d34(Ctrl + V)",Format:"\u683c\u5f0f",Bold:"\u52a0\u7c97(Ctrl + B)",BoldGroup:"\u52a0\u7c97(Ctrl + B)",Italic:"\u503e\u659c(Ctrl + I)",Underline:"\u4e0b\u5212\u7ebf(Ctrl + U)",StrikeThrough:"\u5220\u9664\u7ebf",JustifyLeft:"\u5de6\u5bf9\u9f50",JustifyRight:"\u53f3\u5bf9\u9f50",JustifyCenter:"\u5c45\u4e2d\u5bf9\u9f50",
Outdent:"\u51cf\u5c11\u7f29\u8fdb\u91cf",Indent:"\u589e\u52a0\u7f29\u8fdb\u91cf",InsertOrderedList:"\u7f16\u53f7\u5217\u8868",InsertUnorderedList:"\u9879\u76ee\u5217\u8868",SubScript:"\u4e0b\u6807",SuperScript:"\u4e0a\u6807",RemoveFormat:"\u6e05\u9664\u683c\u5f0f",common:{auto:"\u81ea\u52a8",ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88",close:"\u5173\u95ed"},Undo:"\u64a4\u6d88(Ctrl + Z)",Redo:"\u91cd\u505a(Ctrl + Y)",Font:"\u5b57\u4f53",Image:{title:"\u63d2\u5165\u56fe\u7247"},Link:{title:"\u63d2\u5165\u8d85\u94fe\u63a5"},
ForeColor:"\u5b57\u4f53\u989c\u8272",BackColor:"\u80cc\u666f\u989c\u8272",PasteText:"\u7c98\u8d34\u4e3a\u7eaf\u6587\u672c",PasteToText:"\u7eaf\u6587\u672c\u7c98\u8d34\u6a21\u5f0f",PasteWord:"\u4eceWord\u7c98\u8d34",About:"\u5173\u4e8ejQEditor",Cleanup:"\u6e90\u7801\u6e05\u7406",Help:"\u5e2e\u52a9",Insert:"\u63d2\u5165",Remove:"\u5220\u9664",InsertTable:"\u63d2\u5165\u8868\u683c",TableGroup:"\u8868\u683c",Table:"\u8868\u683c",MergeCell:"\u5408\u5e76\u5355\u5143\u683c",ColumnMergeAfter:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",
RowMergeAfter:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",CancelCellMerge:"\u53d6\u6d88\u5355\u5143\u683c\u5408\u5e76",Row:"\u884c",Column:"\u5217",Cell:"\u5355\u5143\u683c",TableProps:"\u8868\u683c\u5c5e\u6027",addTableCaption:"\u6dfb\u52a0\u8868\u683c\u540d\u79f0",RemoveTableCaption:"\u5220\u9664\u8868\u683c\u540d\u79f0",CellProps:"\u5355\u5143\u683c\u5c5e\u6027",RemoveTable:"\u5220\u9664\u6574\u4e2a\u8868\u683c",RemoveColumn:"\u5220\u9664\u5f53\u524d\u5217",RemoveRow:"\u5220\u9664\u5f53\u524d\u884c",
ColumnInsertAfter:"\u53f3\u4fa7\u63d2\u5165\u5217",ColumnInsertBefore:"\u5de6\u4fa7\u63d2\u5165\u5217",RowInsertAfter:"\u4e0b\u65b9\u63d2\u5165\u884c",RowInsertBefore:"\u4e0a\u65b9\u63d2\u5165\u884c",Append5Row:"\u884c\u5c3e\u8ffd\u52a05\u884c",Append5Column:"\u5217\u5c3e\u8ffd\u52a05\u5217",RowInsertBefore:"\u4e0a\u65b9\u63d2\u5165\u884c",addTableTitleRow:"\u6dfb\u52a0\u8868\u683c\u6807\u9898\u884c",RemoveTableTitleRow:"\u5220\u9664\u8868\u683c\u6807\u9898\u884c",TableMove:"\u79fb\u52a8",RowMoveBefore:"\u5411\u4e0a\u79fb\u52a8\u4e00\u884c",
RowMoveAfter:"\u5411\u4e0b\u79fb\u52a8\u4e00\u884c",RowMoveFirst:"\u6574\u884c\u79fb\u5230\u6700\u9876\u7aef",RowMoveLast:"\u6574\u884c\u79fb\u5230\u6700\u5e95\u7aef",SetTableWidth:"\u8868\u683c\u5bbd\u5ea6",TableWidthDefault:"\u6309\u8868\u683c\u6587\u5b57\u81ea\u9002\u5e94",TableWidthAuto:"\u6309\u9875\u9762\u5bbd\u5ea6\u81ea\u9002\u5e94",TableWidthFixed:"\u56fa\u5b9a\u4e3a\u5f53\u524d\u5217\u5bbd",TableWidthAverage:"\u5e73\u5747\u5206\u5e03\u5217\u5bbd",EmptyTable:"\u5220\u9664\u8868\u683c\u5185\u5bb9",
SetColumnWidth:"\u5217\u5bbd\u5ea6",SetColumnWidthAdd10:"\u52a010",SetColumnWidthReduce10:"\u51cf10",SetColumnWidthAdd50:"\u52a050",SetColumnWidthReduce50:"\u51cf50",SetColumnAlign:"\u6574\u5217\u5bf9\u9f50\u65b9\u5f0f",SetColumnAlignLeft:"\u5de6\u5bf9\u9f50",SetColumnAlignRight:"\u53f3\u5bf9\u9f50",SetColumnAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetColumnValignTop:"\u5782\u76f4\u5c45\u9876",SetColumnValignCenter:"\u5782\u76f4\u5c45\u4e2d",SetRowAlign:"\u6574\u884c\u5bf9\u9f50\u65b9\u5f0f",SetRowAlignLeft:"\u5de6\u5bf9\u9f50",
SetRowAlignRight:"\u53f3\u5bf9\u9f50",SetRowAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetRowValignTop:"\u5782\u76f4\u5c45\u9876",SetRowValignCenter:"\u5782\u76f4\u5c45\u4e2d",SetCellAlign:"\u5355\u5143\u683c\u5bf9\u9f50\u65b9\u5f0f",SetCellAlignLeft:"\u5de6\u5bf9\u9f50",SetCellAlignRight:"\u53f3\u5bf9\u9f50",SetCellAlignCenter:"\u6c34\u5e73\u5c45\u4e2d",SetCellValignTop:"\u5782\u76f4\u5c45\u9876",SetCellValignCenter:"\u5782\u76f4\u5c45\u4e2d",BaikeLink:"\u767e\u79d1\u94fe\u63a5(Ctrl + Q)",H1:"\u4e00\u7ea7\u76ee\u5f55(Ctrl + 1)",
H2:"\u4e8c\u7ea7\u76ee\u5f55(Ctrl + 2)",Search:"\u641c\u7d22",BaikeSearch:"\u767e\u79d1\u4e00\u4e0b",BaiduSearch:"\u767e\u5ea6\u4e00\u4e0b",GoogleSearch:"\u8c37\u6b4c\u4e00\u4e0b",HdImage:"\u63d2\u5165\u56fe\u7247",FontSize:"\u5b57\u53f7",FontName:"\u5b57\u4f53",Video:"\u63d2\u5165\u89c6\u9891",SpecialChar:"\u7279\u6b8a\u7b26\u53f7",AlignGroup:"\u5bf9\u9f50\u65b9\u5f0f",MultiImage:"\u6279\u91cf\u4e0a\u4f20\u56fe\u7247",Code:"\u63d2\u5165\u4ee3\u7801",AjaxUpload:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6...",
List_123:"1,2,3...",List_a_b:"a,b,c...",List_A_B:"A,B,C...",List_i_ii:"i,ii,iii...",List_I_II:"I,II,II...",List_circle:"\u25cb \u5c0f\u5706\u5708",List_disc:"\u25cf \u5c0f\u5706\u70b9",List_square:"\u25a0 \u5c0f\u65b9\u5757",AutoFormat:"\u81ea\u52a8\u6392\u7248",CancelAutoFormat:"\u81ea\u52a8\u6392\u7248",ClearDoc:"\u6e05\u7a7a\u5185\u5bb9",InsertDate:"\u63d2\u5165\u65e5\u671f",InsertTime:"\u63d2\u5165\u65f6\u95f4","Date_Y-m-d":"Y-m-d","Date_Y/m/d":"Y/m/d","Date_Y.m.d":"Y.m.d","Date_Y\u5e74m\u6708d\u65e5":"Y\u5e74m\u6708d\u65e5",
GoogleMap:"Google\u5730\u56fe",Reference:"\u53c2\u8003\u8d44\u6599"})})(jQEditor);
(function(b){b.mod("Utils",{escape:function(b){return!b||typeof b!=="string"?b:b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/ /g,"&nbsp;")},unhtml:function(){function b(f){return g[f]}var g={"&":"&amp","<":"&lt;",'"':"&quot;",">":"&gt;"," ":"&nbsp;"};return function(h){return!h||typeof h!=="string"?h:h.replace(/[&<"> ]/g,b)}}(),checkTag:function(b){if(!b||typeof b!=="string")return b;for(var g="",h=/<(\/?\w+)/ig,e=[],c;(c=h.exec(b))!=null;)c=c[1].toLowerCase(),
/^(img|br|hr|input|link|meta|param|embed|p)$/i.test(c)||(c.indexOf("/")==-1?e.push(c):"/"+e[e.length-1]==c&&e.pop());e.length>6?g="\u63d0\u793a\uff1a\n"+e.length+"\u4e2a\u6807\u7b7e "+e.slice(0,6).join("-&gt;")+"... \u672a\u95ed\u5408\uff0c\u8bf7\u68c0\u67e5\u3002":e.length&&(g="\u63d0\u793a\uff1a\n\u6807\u7b7e "+e.join("-&gt;")+" \u672a\u95ed\u5408\uff0c\u8bf7\u68c0\u67e5\u3002");return g},strlen:function(b){return b&&typeof b=="string"?b.replace(/[^\x00-\xff]/g,"xx").length:0},saveToInput:function(f){f=
f||b.eid;b.options[f].textarea.value=this.get(f)}})})(jQEditor,jQuery);
(function(b,f){var g=b.consts,h=[],e,c="onready,oncreate,oncomplete,onafteraction,onmonitor,onscroll,mouseover,mousedown,mouseup,click,contextmenu,keyup,keydown,paste,load,dragenter,dragover,drop,dragleave,dragend".split(",");b.mod("Event",{getElement:function(){return d.element[b.eid]},getTarget:function(){var a=this.getElement();if(a)return a.target},setElement:function(a){d.saveCursorElem(a)},handlers:{},bind:function(a,e){if(f.inArray(a,c)===-1)return b.log("warning","\u7f16\u8f91\u5668\u4e0d\u5141\u8bb8\u6ce8\u518c"+
a+"\u7c7b\u578b\u7684\u4e8b\u4ef6");a.substr(0,2)==="on"?(typeof this.handlers[a]==="undefined"&&(this.handlers[a]=[]),this.handlers[a].push(e)):d.bind(a,e);b.log("run","\u6ce8\u518c\u7f16\u8f91\u5668"+a+"\u7c7b\u578b\u4e8b\u4ef6")},trigger:function(a){if(f.inArray(a.type,c)===-1)return b.log("warning","\u7f16\u8f91\u5668\u6ca1\u6709\u6ce8\u518c"+a.type+"\u7c7b\u578b\u7684\u4e8b\u4ef6");if(this.handlers[a.type]instanceof Array){var d=this.handlers[a.type];a.option=b.get("option");a.dom=b.get("document");
b.log("event","\u89e6\u53d1\u4e8b\u4ef6"+a.type+"\uff0c\u5b58\u5728\u4e2a"+d.length+"\u6ce8\u518c\u4e8b\u4ef6");for(var e=0,i=d.length;e<i;e++)d[e](a)}},remove:function(a,d){if(this.handlers[a]instanceof Array){for(var b=this.handlers[a],c=0,e=b.length;c<e;c++)if(b[c]===d)break;b.splice(c,1)}}});e=b.Event=b.mod("Event");e.bind("oncreate",function(){var a=d;a.mousedown();a.mouseup();a.click();a.contextmenu();a.keyup();a.keydown();a.paste();a.dragenter();a.dragover();a.drop();a.dragleave();a.dragend();
a.load()});e.bind("onready",function(){a.click();a.scroll()});var a={click:function(){function a(j){var d=f(j.target);if(g.mozilla&&j.button!==0||d.closest(".jqe-menu").size()||d.closest(".jqe-panel").size()||d.closest(".jqe-toolbar").size()||d.closest(".jqe-panel-overlay").size())return!0;(f(".jqe-menu:visible").size()||f(".jqe-panel:visible").size())&&b.hidePanel()}g.IE?f(document).mousedown(a):f(window).mousedown(a)},scroll:function(){f(window).scroll(function(a){b.Event.trigger({type:"onscroll",
event:a})})}},d={element:{},bind:function(a,d){var b=this[a+"s"];f.isArray(b)&&b.push(d);return this},init:function(){this.extend("mouseover").extend("mousedown").extend("mouseup").extend("click").extend("contextmenu").extend("keyup").extend("keydown").extend("paste").extend("load");this.extend("dragenter").extend("dragover").extend("drop").extend("dragleave");this.extend("dragend");return this},extend:function(a){var d=this;d[a+"s"]=[];h[a]=0;d[a]=function(){var c=b.get("document"),e=b.get("window"),
e=a=="load"?e:c;if(g.IE&&a==="paste")e=c.body;f(e).bind(a,function(b){var c=!0,e=d[a+"s"],i,f;for(f in e)i=e[f],typeof i=="function"&&!1===i(this,b)&&(c=!1);return c})};return d},saveCursorElem:function(a){var d=this.element[b.eid]={target:a[0]},c=a.closest("a"),e=a.closest("img"),f=a.closest("h2"),h=a.closest("h3"),g=a.closest("pre"),p=a.closest("sub"),q=a.closest("sup"),s=a.closest("td,th"),r=s.closest("tr"),t=r.closest("table"),v=a.closest("ol"),w=a.closest("ul"),x=a.closest("embed");c.size()&&
(d.a=c[0]);e.size()&&(d.img=e[0]);f.size()&&(d.h2=f[0]);h.size()&&(d.h3=h[0]);g.size()&&(d.pre=g[0]);p.size()&&(d.sub=p[0]);q.size()&&(d.sup=q[0]);s.size()&&(d.cell=s[0]);r.size()&&(d.row=r[0]);t.size()&&(d.table=t[0]);x.size()&&(d.embed=x[0]);v.size()&&(d.ol=v[0]);w.size()&&(d.ul=w[0]);b.log("run","\u8bb0\u5f55\u5149\u6807\u5904\u5143\u7d20"+a[0].nodeName)}};d.init();d.bind("mouseover",function(a){a=f("body",a).attr("id");b.setEid(a)});d.bind("mousedown",function(a,b){var c=f(b.target);d.saveCursorElem(c)});
d.bind("mouseup",function(a,d){var c=f("body",a).attr("id"),e=b.mod("Menu"),h=b.mod("Selection"),g=b.mod("Toolbar");b.setEid(c);h&&h.saveRange();g&&g.updateState();e&&e.set(d,"mouseup")});d.bind("click",function(a,d){f(d.target);var c=b.mod("Selection"),e=b.mod("Menu");if(g.mozilla&&d.button!==0)return!0;c&&c.getText();e&&e.set(d,"click");if(c&&f.browser.webkit&&d.target.nodeName.toLowerCase()==="img"){var h=d.target,e=a.createRange(),e=c.getRange();e.setStartBefore(h);e.setEndAfter(h);e.selectNode(h);
c=c.get();c.removeAllRanges();c.addRange(e)}});d.bind("contextmenu",function(a,d){f(d.target);var c=b.mod("Selection"),e=b.mod("Menu");if(c&&(c=""+c.get("text"),d.ctrlKey&&c))return!0;b.hidePanel();return e?e.set(d,"contextmenu"):!0});d.bind("keyup",function(a,c){var e=b.mod("Selection"),i=b.mod("Toolbar");if(/^(37|38|39|40)$/.test(c.keyCode||c.which||c.charCode))e&&(e.saveRange(),(e=e.getElementByCursor())&&d.saveCursorElem(f(e))),i&&i.updateState()});e.bind("keydown",function(a,d){if(f.inArray(d.keyCode||
d.which||d.charCode,[16,17,18,20,27,33,34,35,36,37,38,39,40,44,45,91,113,115,118,119,122,144])>-1||d.ctrlKey||d.altKey)return!0;clearTimeout(h.keydown);h.keydown=setTimeout(function(){b.monitor("keydown")},1E3)});d.bind("load",function(){b.log("run",b.eid+" onload")})})(jQEditor,jQuery);
(function(b,f){var g=b.consts,h=b.mod("Event");b.mod("Selection",{get:function(b){b=b||"text";return"text"==b?e.get():"html"==b?e.get("html"):"cursorElement"==b||"element"==b?h.getTarget():e.getSelection()},getText:function(){return e.get()},getHtml:function(){return e.get("html")},getElement:function(){return h.getTarget()},set:function(b){e.set(b)},saveRange:function(){return e.saveRange()},getRange:function(){return e.getRange()},getElementByCursor:function(){return e.getElementByCursor()},selectedText:function(b){return e.selectedText(b)},
selectNode:function(b,a){e.init();return e.selectNode(b,a)},getBookmark:function(){e.init();return e.getBookmark()},clearBookmark:function(){return e.clearBookmark()},moveToBookmark:function(b){e.init();return e.moveToBookmark(b)}});var e={dom:null,win:null,ranges:{},init:function(){this.dom=b.get("document");this.win=b.get("window")},get:function(c){c=c||0;this.init();var a="",d=this.dom,j=this.win;if(!d||!j)return b.log("run",""),"";d.selection?a=c?d.selection.createRange().htmlText:d.selection.createRange().text:
j.getSelection?a=j.getSelection():d.getSelection&&(a=d.getSelection());return a?a:""},getHtml:function(){return this.get(1)},getSelection:function(){var b=self.win,a=self.dom;return g.IE?a.selection:b.getSelection()},set:function(c){if(c!==""){this.init();b.focus();var a=this.dom,d=this.ranges[b.eid];if(g.IE)if(d){d.select&&d.select();try{d.pasteHTML?d.pasteHTML(c):b.$("body").append(c)}catch(j){}}else b.$("body").prepend(c),b.focus();else b.Plugin&&b.Plugin.inserthtml==="base"?a.execCommand("inserthtml",
!1,c):d&&d.insertNode?(d.collapsed||d.deleteContents(),c=d.createContextualFragment(c),a=c.lastChild,d.insertNode(c),d.setStartAfter(a),d.setEndAfter(a),d.collapse(!1),c=this.win.getSelection(),c.removeAllRanges(),c.addRange(d)):f("body",a).append(c)}},getRange:function(){this.init();var b=this.win,a=this.dom,d;if(a.selection)d=a.selection.createRange();else if(b.getSelection)if(b=b.getSelection(),b.getRangeAt)try{d=b.getRangeAt(0)}catch(j){}else d=a.createRange(),d.setStart(b.anchorNode,b.anchorOffset),
d.setEnd(b.focusNode,b.focusOffset);return d},saveRange:function(){var c;this.init();c=this.getRange();return this.ranges[b.eid]=c},getElementByCursor:function(){this.init();var b=this.dom,a=this.getRange(),b=b.body;if(g.IE)b=a.item?a.item(0):a.parentElement();else try{b=a.commonAncestorContainer;for(!a.collapsed&&a.startContainer==a.endContainer&&a.startOffset-a.endOffset<2&&a.startContainer.hasChildNodes()&&(b=a.startContainer.childNodes[a.startOffset]);b.nodeType==3&&b.parentNode;)b=b.parentNode}catch(d){}return b},
getCommonAncestor:function(b){return b.startContainer||b.parentElement&&b.parentElement()||b.commonParentElement&&b.commonParentElement()},selectedText:function(c){var a=!1;if(c&&f.trim(c).length){var d=this.getRange();g.IE?d&&d.findText(c)&&(d.select(),a=!0):a=b.get("window").find(c);this.saveRange()}return a},selectNode:function(c,a){var d=b.get("document"),c=typeof c==="object"?c:d.body.childNodes[0];b.focus();d=this.saveRange();g.IE?(d.moveToElementText(c),d.select()):d.selectNodeContents(c);
typeof a!=="undefined"&&d.collapse(a)},getBookmark:function(){this.init();var b=this.dom;if(g.IE)return b=b.selection.createRange(),b.getBookmark()},clearBookmark:function(){},moveToBookmark:function(b){this.init();var a=this.dom;g.IE&&b&&a.body.createTextRange&&(a=a.body.createTextRange(),a.moveToBookmark(b),a.select())}}})(jQEditor,jQuery);
(function(b,f){function g(){for(var a=f(".jqe-toolbar"),d=0,c=a.length;d<c;d++){var e=a.eq(d),g=e.attr("eid"),m=e.parent().width(),n=e.find(".jqe-message"),p=Math.round((m-n.width())/2),q=b.get("option",g),s=f(window).scrollTop(),r=f("#"+g+" .jqe-content"),t=0;h.IE6?m+=1:m-=2;e.width(m);e.find(".jqe-list").width(m);n.css({left:p});e.parent().height(e.height());if(g&&(b.setEid(g),q=b.get("option",g)))e.removeClass(q.fixedClassName),q.toolbarTop=e.offset().top;if(h.IE6&&!s)s=document.documentElement.scrollTop;
t=r.height()+r.offset().top;s<q.toolbarTop||s>t?(e.removeClass(q.fixedClassName),h.IE6&&e.css("top",0),b.log("run","\u5de5\u5177\u680f\u53d6\u6d88\u6d6e\u52a8")):(e.addClass(q.fixedClassName),b.log("run","\u5de5\u5177\u680f\u5f00\u59cb\u6d6e\u52a8"),h.IE6&&e.css("top",s))}}var h=b.consts,e={},c=b.mod("Event"),a=0;b.mod("Toolbar",{get:function(a){a=a||b.eid;return e[a]},getMessage:function(a){a=a||b.eid;return e[a].find(".jqe-message")},set:function(a){d.init(a).setHtml().setEvent()},selected:function(a){var d=
b.getButtonByName(a.name).closest(".jqe-button"),a=f("#panel_"+a.name+", #jqe-"+a.name+"-0");f(".jqe-button-hover").removeClass("jqe-button-hover");a.is(":visible")?d.addClass("jqe-button-hover"):d.removeClass("jqe-button-hover")},updateState:function(){d.updateState()},getCurrent:function(){for(var a=f(document).scrollTop(),d=f(".jqeditor"),c="",i,h=0,g=0,n=d.length;g<n;g++)if(i=d.eq(g),h=i.offset().top,bottom=h+i.height(),maxTop=a+f(window).height(),h>=a&&bottom<maxTop||h<a&&bottom>a&&bottom<maxTop||
h>=a&&h<maxTop&&bottom>maxTop||h<a&&bottom>maxTop){c=i.attr("id");break}return c?(b.setEid(c),e[c]):null},lock:function(){this.get().children(".jqe-list").css("opacity",0.3).bind("mousedown.lock",function(){b.alert("\u63d0\u793a\uff1a\u5de5\u5177\u680f\u88ab\u9501\u5b9a\uff0c\u8bf7\u7a0d\u7b49...");return!1});d.locked=1},unlock:function(){this.get().children(".jqe-list").css("opacity",1).unbind("mousedown.lock");d.locked=0},islock:function(){return d.locked},resetClickButton:function(){d.clickButton[b.eid]=
null}});c.bind("oncreate",function(){var a=b.mod("Toolbar"),d=b.get("option");a.set(d)});c.bind("onready",function(){setTimeout(function(){g()},200)});(!f.browser.msie||f.browser.version>6)&&f(window).bind("resize",function(){clearTimeout(a);a=setTimeout(function(){g()},300)});c.bind("onafteraction",function(a){var d=b.mod("Toolbar");b.get("option");a.Plugin.type=="base"&&d.updateState();d.selected(a.Plugin)});var d={option:null,clickButton:{},locked:0,init:function(a){this.option=a;return this},
setHtml:function(){var a=this.option,d;d=b.config("toolbars");var c=null,i=a.id,g=[],m=b.lang(a.lang),n=f("#"+i),p,q,c=typeof a.toolbar==="string"&&d[a.toolbar]?d[a.toolbar]:a.toolbar&&typeof a.toolbar==="object"?a.toolbar:d["default"];g.push('<ul class="jqe-list jqe-'+a.skin+'">');for(var s=0,r=c.length;s<r;s++)p=c[s],q="",(d=b.plugin(p))?f.inArray("plugin."+p,a.disabled)>-1?(b.log("warning","\u7f16\u8f91\u5668 "+i+" \u540d\u5b57\u4e3a"+p+"\u7684\u63d2\u4ef6\u88ab\u914d\u7f6e\u6587\u4ef6\u7981\u7528\u4e86"),
d.disable()):(typeof m[p]=="string"?q=m[p]:typeof m[p]=="object"&&(q=m[p].length?m[p][0]+m[p][1]:m[p].title),d.title=q,g.push('<li id="'+i+"-"+p+'" class="jqe-button '+p+'"'),g.push(' style="'),typeof d.menu==h.typeof_function?d.icon&&d.icon.width?g.push(" width:"+(d.icon.width+12)+"px;"):typeof d.menu==h.typeof_function&&g.push(" width:34px;"):d.icon&&d.icon.width&&g.push(" width:"+d.icon.width+"px;"),g.push('"'),g.push(">"),g.push('<div style="display:inline-block;" name="'+p+'" title="'+q+'" _title="'+
q+'">'),g.push('<a onclick="return false" tabIndex="-1" hidefocus="true" '),d.icon&&(g.push(' style="'),d.icon.width&&g.push(" width:"+d.icon.width+"px;"),g.push('"')),g.push(' class="jqe-icon '+p+'" href="jqe:'+q+"("+p+')">'),g.push('<span class="jqe-icon '+p+'"'),d.icon&&(g.push(' style="'),d.icon.width&&g.push(" width:"+d.icon.width+"px;"),g.push('"')),g.push(">"),d.icon&&d.icon.text&&g.push(d.icon.text),g.push("</span>"),/(ForeColor|BackColor)/i.test(p)&&g.push('<span class="selected-color"></span>'),
g.push("</a>"),typeof d.menu==h.typeof_function&&(g.push('<a onclick="return false" tabIndex="-1" hidefocus="true" '),d.menuTitle&&g.push(' title="'+d.menuTitle+'"'),g.push(' class="jqe-button-menu" href="jqe:'+q+'"><span></span></a>')),g.push("</div>"),g.push("</li>")):b.log("warning","\u7f16\u8f91\u5668 "+i+" \u540d\u5b57\u4e3a"+p+"\u7684\u63d2\u4ef6\u4e0d\u5b58\u5728");g.push("</ul>");g.push('<div class="jqe-message"></div>');a=n.find(".jqe-toolbar");a.size()||(n.prepend('<div><div class="jqe-toolbar"></div></div>'),
a=n.find(".jqe-toolbar"));a.html(g.join("")).attr("eid",i);e[i]=a;return this},action:function(a,d){if(a.is(".jqe-icon, .jqe-button-menu"))b.action(a,d);else{var c=b.mod("Panel"),e=b.mod("Menu");if(self.locked)return!1;e&&e.hide();c&&c.hide()}},setEvent:function(){var a=this,d=e[a.option.id];d.click(function(d){a.action(f(d.target),d);return!1});d.bind("mousedown",function(d){if(a.locked)return!1;d=f(d.target).closest(".jqe-icon, .jqe-button-menu");d.size()&&(d.addClass("mousedown"),d=d.closest(".jqe-button").attr("id").split("-"),
a.clickButton[d[0]]=d[1]);return!1}).bind("mouseup",function(d){if(a.locked)return!1;d=f(d.target).closest(".jqe-icon, .jqe-button-menu");d.size()&&d.removeClass("mousedown");return!1});d.find("div[name]").bind("mouseover",function(){var d=f(this),b=d.parent(),c=b.attr("id").split("-");if(a.locked||d.hasClass("disabled")||a.clickButton[c[0]]===c[1])return!1;b.hasClass("jqe-button-hover")||b.addClass("jqe-button-hover");a.clickButton[c[0]]=null;return!1}).bind("mouseout",function(){var d=f(this),b=
d.parent(),c=b.attr("id").split("-");if(a.locked||d.hasClass("disabled")||a.clickButton[c[0]]===c[1])return!1;b.hasClass("jqe-button-hover")&&b.removeClass("jqe-button-hover");return!1});b.debug||d.bind("contextmenu",h.returnFalse);return this},updateState:function(){for(var a=b.eid,d=b.get("document"),c=h.baseCmds,e,g=!1,m=0,n=c.length;m<n;m++){e=c[m];try{g=d.queryCommandState(e)}catch(p){g=!1}g?f("#"+a+"-"+e).addClass("jqe-button-checked"):f("#"+a+"-"+e).removeClass("jqe-button-checked")}return this}}})(jQEditor,
jQuery);
(function(b,f){function g(){return"Dialog"==b.get("option").panel?a:c}var h=b.consts,e=!1;b.mod("Panel",{get:function(a){return f("#panel_"+a)},set:function(a){b.get("option");g().set(a);e=!0},hide:function(){g().hide();e=!1},error:function(a){g().error(a)},notice:function(a){g().notice(a)},lock:function(a){a.find(".jqe-panel-button input, .jqe-panel-close").css("opacity",0.3).click(function(){b.alert("\u63d0\u793a\uff1a\u7a97\u53e3\u6b63\u5728\u8fdb\u884c\u6570\u636e\u5904\u7406\uff0c\u8bf7\u7a0d\u7b49...");return!1})},
unlock:function(a){a.find(".jqe-panel-button input, .jqe-panel-close").css("opacity",1).unbind("click")},isShow:function(a){return a?(a=f("#panel_"+a.name),a.size()&&a.is(":visible")&&b.eid==a.attr("eid")):e}});var c={eid:"",cmd:"",target:null,panel:null,panel_id:"",set:function(a){var j,c;c=this.panel_id="panel_"+a.name;j=f("#"+c);b.log("run","\u5f00\u59cb\u6784\u5efa\u9762\u677f"+c);if(j.size()){if(j.is(":visible")&&b.eid==j.attr("eid"))return b.hidePanel(),j}else if(j=this.build(a),this.setSize(a),
typeof a.one==="function")a.one(j,a);this.panel=j;a.panel=j;this.reset();typeof a.callback==="function"&&a.callback(j,a);this.show(a);return j},hide:function(){var a,j=f(".jqe-panel:visible");a=j.attr("id");if(!a)return!1;if(a){a=a.replace("panel_","");a=b.plugin(a);if(a.islock())return!1;if(typeof a.onclose==="function")a.onclose(j,a);j.hide()}f(".jqe-button-hover").removeClass("jqe-button-hover");this.hideOverlay();return!0},show:function(a){b.log("run","\u5f00\u59cb\u663e\u793a\u9762\u677f("+a.name+
")");var j=this.panel,c=a.title||a.getTitle(),e=j.find(".jqe-panel-title");c?e.unbind("selectstart").bind("selectstart",function(){return!1}).show().find("strong").text(c):e.hide();this.hide();this.cmd=a.name;this.eid=b.eid;j.show().attr("eid",b.eid);b.log("run","\u9762\u677f("+a.name+")\u663e\u793a\u7ed3\u675f");this.setPosition(a);a.config&&a.config.overlay&&this.showOverlay();a=j.find(":text:visible,textarea:visible");a.size()&&a.focus()},build:function(a){var j=this,c=[],e,i=j.panel_id;c.push('<div id="'+
i+'" class="jqe-panel');a.isNeedTitle?c.push('"><div class="jqe-panel-title"><strong></strong><a name="panel-close" class="jqe-panel-close" title="\u5173\u95ed">X</a></div>'):c.push(' jqe-panel-notitle">');c.push('<form onsubmit="return false" ');if(a.form&&a.form.action){var g=a.form;g.target=g.target||"jqe_iframe_submit";g.method=g.method||"post";g.enctype=g.enctype||"multipart/form-data";c.push(' action="'+g.action+'" method="'+g.method+'" enctype="'+g.enctype+'"')}c.push(">");c.push('<div class="jqe-panel-body"><div class="jqe-panel-notice"></div>');
c.push(a.panelHtml());c.push('<div class="jqe-panel-error"></div></div>');if(typeof a.get==="function"||typeof a.ok==="function")c.push('<div class="jqe-panel-button">'),c.push('<input name="panel-submit" type="submit" value=" \u786e \u5b9a "/>'),c.push('<input name="panel-close" type="button" value=" \u53d6 \u6d88 "/>'),c.push("</div>");c.push("</form>");c.push("</div>");f("body").append(c.join(""));e=j.panel=f("#"+i);e.click(function(b){var d;d=(j.target=f(b.target)).closest("[name]").attr("name"),
b=d;return j.action(a,e,b)===!1?!1:null}).mouseover(function(){var a=f(this).attr("id").replace("panel_","");f("#"+b.eid+"-"+a).addClass("jqe-button-hover")});(c=a.killEvents)&&f.isArray(c)&&e.bind(c.join(" "),h.returnFalse);b.debug||e.bind("contextmenu",h.returnFalse);return e},setSize:function(a){var j=this.panel,c={width:600},e=f("#"+b.eid).width();a.config&&(c=f.extend(c,a.config));a=c.width<=e?c.width:e;j.css({width:a});c.height&&j.find(".jqe-panel-body").css({height:c.height});c.HEIGHT&&j.css({height:c.HEIGHT})},
setPositionWithButton:function(a){var j={width:600},c=a.target.closest(".jqe-button"),e=f("#"+b.eid).find(".jqe-toolbar"),i=e.width();a.config&&(j=f.extend(j,a.config));var a=j.width<=i?j.width:i,g=e.offset(),h=c.offset(),e=h.top+c.height()+1;j.align=="left"?j=h.left:i>a&&a>400?j=g.left+(i-a)/2-3:(j=h.left,j+a>g.left+i&&(j=j-a+c.width()));return{top:e,left:j}},setPosition:function(a){var c=a.event,e,g=a.config,i=this.panel.width(),h=this.panel.height(),m=f(document).scrollTop()||document.documentElement.scrollTop;
b.log("run","\u5f00\u59cb\u8bbe\u7f6e\u9762\u677f\u663e\u793a\u4f4d\u7f6e("+a.name+")");/^(center|middle)$/i.test(g.position)?(e=(f(window).width()-i)/2,c=m+(f(window).height()-h)/2,e={left:e,top:c}):c&&(f(c.target).closest(".jqe-button").size()?e=this.setPositionWithButton(a):(e=c.pageX-80,c=c.pageY-40,e<20&&(e=20),c<20&&(c=20),e={left:e,top:c}));f("body").css("position")=="relative"&&(c=(f(window).width()-f("body").width())/2,c>0&&(e.left-=c));return this.panel.css(e)},action:function(a,c,e){var f=
this.target,i="",e=e||f.closest("[name]").attr("name");if("panel-close"===e){if(this.hide())return b.pluginExit(),!1}else if("panel-submit"===e){if(typeof a.check==="function"&&!a.check(c,a))return!1;if(typeof a.ok==="function")a.ok(c,a)&&(this.hide(),b.monitor(a.name));else if(typeof a.get==="function"&&(i=a.get(c,a,f)))a.pasteHTML(i),this.hide(),b.monitor(a.name);b.pluginExit()}else if(a.action)return b.Plugin=a,(i=a.action(f,c,a))?(a.pasteHTML(i),this.hide(),b.monitor(a.name),b.pluginExit(),!1):
!1===i?(b.pluginExit(),!1):!0},reset:function(){var a=this.panel;a.find(".jqe-panel-error").html("").hide();a.find("form").trigger("reset");var c="",e=a.find(":text[fill=Selection]");e.size()&&((a=b.mod("Selection"))&&(c=a.get("text")),c&&e.val(c))},error:function(a){this.panel.find(".jqe-panel-error").html(a).show()},notice:function(a){this.panel.find(".jqe-panel-notice").html(a).show()},showOverlay:function(){var a=f(".jqe-panel-overlay"),b=f(document).width(),c=f(document).height();f(window).width();
var e=f(window).height();a.size()||(f("body").append('<div class="jqe-panel-overlay"></div>'),a=f(".jqe-panel-overlay"));a.show().height(c);h.IE6&&(c>=e&&(b-=21),a.width(b))},hideOverlay:function(){f(".jqe-panel-overlay").hide()}},a={show:function(){}}})(jQEditor,jQuery);
(function(b){b.mod("Confirm",{config:{info:"\u60a8\u7684\u5185\u5bb9\u8fd8\u6ca1\u6709\u4fdd\u5b58\uff01"},set:function(f){f=f||this.config.info;if(typeof window.onbeforeunload=="function")return!1;window.onbeforeunload=function(){return f};b.log("run","\u8bbe\u7f6e\u4e86\u79bb\u5f00\u63d0\u793a\uff1a"+f);return!0},clear:function(){window.onbeforeunload=null;b.log("run","\u53d6\u6d88\u4e86\u79bb\u5f00\u63d0\u793a")}})})(jQEditor);
(function(b,f){function g(a){clearTimeout(c.hidePanel);c.hidePanel=setTimeout(function(){b.hidePanel()},a)}var h=b.consts,e=!1,c={mouseover:0,mouseout:0,hidePanel:0},a=b.mod("Event");a.bind("keydown",function(){g(1E3)});a.bind("mousedown",function(){g(0)});b.mod("Menu",{add:function(a,b){d.add(a,b)},set:function(a,b){d.type=b;return d.set(a)},hide:function(){d.hide()},isShow:function(a){return a?(a=f("div[id^=jqe-"+a.name+"]"),a.size()&&a.is(":visible")&&b.eid==a.attr("eid")):e}});var d={type:"",
menu:null,click_objs:[],contextmenu_objs:[],mouseup_objs:[],add:function(a,d){this[a+"_objs"]||(this[a+"_objs"]=[]);this[a+"_objs"].push(d)},set:function(a){var d=null,c=null,e=this[this.type+"_objs"],g,h=b.mod("Selection"),n=null,p="";h&&(p=""+h.getText(),n=h.getElement(),typeof n==="object"&&f.nodeName(n,"img")&&(p=n));try{for(var q in e)if(d=e[q],d.check(p||n,a)){g="jqe-"+this.type+"-"+q;this.hide();c=this.build(g,d,n);break}}catch(s){b.log("error","\u83dc\u5355\u63d2\u4ef6"+(d.title||"\u672a\u77e5")+
"\u9047\u5230\u9519\u8bef\uff0c"+s.description+"\uff0cmenuPlugin.check: "+d.check)}return c?(this.menu=c,this.setPosition(a),this.show(),b.log("run","\u663e\u793a\u83dc\u5355\uff1a"+d.title),!1):!0},build:function(a,d,c){var e=this,g=[],h=null,n=b.get("option"),p=b.lang(n.lang),q=b.icon(n.skin),s={};menubody=d.getHtml(c);if(typeof menubody==="string")g.push('<div id="'+a+'" class="jqe-menu" eid="'+b.eid+'">'),g.push(menubody),g.push("</div>");else if(typeof menubody==="object"&&menubody.html)menubody.className?
g.push('<div id="'+a+'" class="jqe-menu '+menubody.className+'" eid="'+b.eid+'">'):g.push('<div id="'+a+'" class="jqe-menu">'),g.push(menubody.html),g.push("</div>");else if(typeof menubody==="object"){g.push('<div id="'+a+'" class="jqe-menu" eid="'+b.eid+'">');g.push('<ul class="jqe-menu-list jqe-'+n.skin+'">');for(r in menubody)if("-"===r.substr(0,1))g.push('<li menutype="1" class="jqe-menu-separator"></li>');else{if((c=p[r])&&typeof c=="object")c=c.title;g.push('<li menutype="1" menuname="'+r+
'" ');menubody[r]||g.push(' class="jqe-menu-disabled"');g.push('><a name="'+r+'" href="jqe:menu-'+r+'" onclick="return false">');g.push('<span class="jqe-menu-icon '+r);q[r]||g.push(" jqe-menu-noicon");g.push('"></span>');g.push('<span class="jqe-menu-text">'+c+"</span>");if(menubody[r]==2||typeof menubody[r]==="object"){g.push('<span class="jqe-shortcut-key"></span>');g.push('<span class="jqe-menu-arrow"></span>');g.push('</a><div class="jqe-menu jqe-submenu">');if(menubody[r]==2){if(c=b.plugin(r))g.push(c.panelHtml()),
s[r]=c}else{g.push('<ul class="jqe-menu-list jqe-'+n.skin+'">');for(subname in menubody[r]){if((c=p[subname])&&typeof c=="object")c=c.title;g.push('<li menutype="2" ');"-"===subname.substr(0,1)?g.push(' class="jqe-menu-separator">'):(g.push('><a name="'+subname+'"><span class="jqe-menu-icon '+subname),q[subname]||g.push(" jqe-menu-noicon"),g.push('"></span><span class="jqe-menu-text">'+c+"</span></a>"));g.push("</li>")}g.push("</ul>");g.push('<div class="jqe-menu-vertical-separator"></div>')}g.push("</div>")}else g.push("</a>");
g.push("</li>")}g.push("</ul>");g.push('<div class="jqe-menu-vertical-separator"></div>');g.push("</div>")}f("body").append(g.join(""));h=f("#"+a);typeof d.callback==="function"&&d.callback(h);h.click(function(a){var d=f(a.target);return d.closest("li").hasClass("jqe-menu-disabled")?!1:e.action(d.closest("a[name]"),a)}).mousedown(function(a){return f(a.target).is(":input")?!0:!1}).mouseover(function(){var a=f(this).attr("id").replace(/(^jqe-|-\d\d?$)/g,"");f("#"+b.eid+"-"+a).addClass("jqe-button-hover")});
h.find("li").hover(function(){var a=f(this),d=a.children("div.jqe-submenu");a.attr("menutype")=="1"&&h.find("div.jqe-submenu").hide();a.children("a").addClass("hover");if(d.size()){d.show();var b=f(document).scrollTop()+f(window).height(),a=d.height()+a.offset().top;a>b&&d.css("top",b-a-20)}},function(){f(this).find("a.hover").removeClass("hover")});for(var r in s)(function(a){if(typeof a.one==="function"){var d=h.find("li[menuname="+r+"]"),c=d.find(".jqe-submenu");d.click(function(a){f(a.target);
return!1});a.one(c,a);c.click(function(d){f(d.target);if(d=a.action(f(d.target),c,a))a.pasteHTML(d),b.monitor(a.name),e.hide()})}})(s[r]);return h},action:function(a,d){var c=a.attr("name");c&&b.action(c,d)&&this.menu.hide();return a.closest(".jqe-shortcut-menu").size()?!0:!1},show:function(){this.menu.show();if(h.IE6){var a=this.menu.height();this.menu.find(".jqe-menu-vertical-separator").height(a)}e=!0},hide:function(){f(".jqe-menu").unbind("click").remove();f(".jqe-button-hover").removeClass("jqe-button-hover");
e=!1},setPosition:function(a){var d;d=b.get("iframe");var c=f(d).offset(),e=f(a.target),g=f(document).scrollTop()||document.documentElement.scrollTop;e.closest(".jqe-button").size()?(e=e.closest(".jqe-button"),c=e.offset(),d=c.left,a=c.top+e.height()+1,e.addClass("jqe-button-hover")):a.button===2||e.is("img")?(d=a.clientX+c.left,a=a.clientY+c.top,this.type=="contextmenu"?(d+=10,a+=10):this.type=="mouseup"&&(a+=10),e=g+f(window).height()-this.menu.height()-20,a=a<e?a:e):(d=a.clientX+c.left,a=a.clientY+
c.top+20,e=g+f(window).height()-this.menu.height(),a>e&&(a=e-50));f("body").css("position")==="relative"&&(e=(f(window).width()-f("body").width())/2,e>0&&(d-=e));return this.menu.css({left:d,top:a})}}})(jQEditor,jQuery);
(function(b){var f=b.consts,g={},h,e,c=b.mod("Event");setTimeout(function(){h=b.mod("Confirm");e=b.mod("Selection")},300);b.mod("History",{Redo:function(){a.redo()},Undo:function(){a.undo()}});c.bind("onmonitor",function(){a.ischange()&&a.add()});c.bind("oncreate",function(d){var b=d.value.id,d=d.html;a.stack[b]=[];a.bookmarks[b]=[];g[b]=d;a.pointer[b]=-1});var a={stack:[],pointer:[],last:[],bookmarks:{},ischange:function(){var a=b.eid;return b.get("document").body.innerHTML!==this.last[a]},add:function(){var a=
b.eid,c=this.pointer[a],g=this.last,k=b.get("document"),i="",o=b.plugin("Undo"),m=b.plugin("Redo"),n=this.stack[a];if(f.IE){var p=this.bookmarks[a],i=k.body.innerHTML;if(n[c]&&Math.abs(i.length-n[c].length)<5)return b.log("run","\u548c\u5f53\u524d\u5185\u5bb9\u7684\u5dee\u5f02\u592a\u5c0f\uff0c\u6ca1\u6709\u589e\u52a0\u5386\u53f2\u8bb0\u5f55"),0;h&&c>-1&&h.set();c+=1;p[c]=e.getBookmark();g[a]=k.body.innerHTML}else g[a]="",h&&c>-1&&h.set(),c+=1;this.pointer[a]=c;n[c]=g[a];o&&o.enable();m&&m.disable();
c<n.length-1&&n.splice(c+1,n.length-1-c);b.log("run","\u589e\u52a0\u4e00\u6761\u5386\u53f2\u8bb0\u5f55, pointer="+c);return 1},undo:function(){var a=b.get("document"),c=b.eid,h=this.stack[c],k=this.bookmarks[c],i=--this.pointer[c],o="",m=b.plugin("Undo"),n=b.plugin("Redo"),o=i>=0?h[i]:g[c];this.last[c]=o;f.IE?(a.body.innerHTML=o,e.moveToBookmark(k[i])):b.execCommand("Undo");n&&n.enable();i<0&&m&&m.disable();b.log("run","undo");return 1},redo:function(){var a=b.get("document"),c=b.eid,g=this.stack[c],
h=this.bookmarks[c],i=++this.pointer[c],o="",m=b.plugin("Undo"),n=b.plugin("Redo"),o=g[i];this.last[c]=o;f.IE?(a.body.innerHTML=o,e.moveToBookmark(h[i])):b.execCommand("Redo");m.enable();i>=g.length-1&&n.disable();b.log("run","redo");return 1}}})(jQEditor);
(function(b){var f,g=[];setTimeout(function(){f=b.mod("Toolbar")},200);b.mod("Message",{show:function(b,c,a){h.show(b,c=="error"?"error":"notice",a)},showError:function(b,c){this.show(b,"error",c)},showNotice:function(b,c){this.show(b,"notice",c)},change:function(b){b&&h.message&&h.message.html(b)},hide:function(){h.hide()}});b.Message=b.mod("Message");var h={message:null,show:function(e,c,a){var d=this,c=c=="error"?"red":"green",j=f.getMessage(),h=b.get("option"),k=h.messageSpeed,i=f.get().height()+
1,a=parseInt(a,10),a=isNaN(a)?h.messageDuration:a||h.messageDuration;d.message=j;j.html(e).css({color:c,top:i}).fadeIn(k);clearTimeout(g[b.eid]);g[b.eid]=setTimeout(function(){d.hide()},a)},hide:function(e){var c=b.get("option"),e=e?parseInt(e,10):0,e=isNaN(e)?c.messageSpeed:e||c.messageSpeed;this.message.fadeOut(e)}}})(jQEditor);
(function(b,f){function g(e){for(var c=b.get("document"),a,d=b.$("body")[0].childNodes,j=[],g=[],k=0,i=d.length;k<i;k++)a=d[k],1===a.nodeType?h.test(a.nodeName)?(g.length&&(j.push(g),g=[]),/^p$/i.test(a.nodeName)&&(e?f(a).html(f(a).html().replace(/^(\s|&nbsp;|\u3000)*/i,"\u3000\u3000")):f(a).html(f(a).html().replace(/^(\s|&nbsp;|\u3000)*/i,"")))):g.push(a):3===a.nodeType&&f.trim(a.nodeValue)&&g.push(a);g.length&&j.push(g);k=0;for(i=j.length;k<i;k++){e=c.createElement("p");a=j[k];b.$(a[0]).before(e);
d=0;for(g=a.length;d<g;d++)b.$(e).append(a[d])}}var h=/^(blockquote|center|div|h[\d]|p)$/i;b.plugin("AutoFormat",{icon:{width:60,text:"\u81ea\u52a8\u6392\u7248","default":{AutoFormat:{XY:"none"}}},click:function(){g(!0);b.showNotice("\u6bb5\u843d\u9996\u884c\u81ea\u52a8\u7f29\u8fdb\u5b8c\u6210")}});b.plugin("CancelAutoFormat",{icon:{width:60,text:"\u81ea\u52a8\u6392\u7248","default":{CancelAutoFormat:{XY:"none"}}},click:function(){g(!1);b.showNotice("\u53d6\u6d88\u6bb5\u843d\u9996\u884c\u81ea\u52a8\u7f29\u8fdb\u5b8c\u6210")}})})(jQEditor,
jQuery);
(function(b){b.plugin("ForeColor, BackColor",{menuTitle:"\u989c\u8272\u9762\u677f",isNeedPanel:1,isNeedTitle:0,killEvents:["mousedown"],config:{width:230,height:160,colors:["000000,993300,333300,003300,003366,000080,333399,333333","800000,FF6600,808000,008000,008080,0000FF,666699,808080","FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999","FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0","FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF"]},selectedColor:{},init:function(b){var g=[],
h,e,c=b.config.colors;g.push('<span class="jqe-plugin-color" color="Transparent" style="width:206px;line-height:25px;"><a href="color:Transparent" onclick="return false;" style="width:16px;height:16px;background:#000;"></a>\u4f7f\u7528\u9ed8\u8ba4\u989c\u8272</span>');for(var a=0;a<c.length;a++){e=c[a].split(",");for(var d=0;d<e.length;d++)h='<a href="color:#'+e[d]+'" style="background:#'+e[d]+'"  onclick="return false;"></a>',h='<span class="jqe-plugin-color" color="#'+e[d]+'">'+h+"</span>",g.push(h)}b.cache.html=
g.join("")},click:function(f,g){var h=g.selectedColor[b.eid];h||(h="ForeColor"==g.name?"blue":"yellow");g.setColor(h);g.hide();return 1},menu:function(b,g){b.set(g);return 1},action:function(f,g,h){g=h.name;if(f=f.closest("[color]").attr("color"))h.selectedColor[b.eid]=f,$("#"+b.eid+"-"+g).find(".selected-color").css("background-color",f),h.setColor(f),b.monitor(g),h.hide();return!1},setColor:function(f){var g=this.name;b.execCommand(g,!1,f||"Transparent")}})})(jQEditor);
(function(b){var f=/^http:\/\/(\w+\.){0,2}(?:hudong|baike)\.com/i;b.plugin("Link",{config:{width:320},init:function(b){b.cache.html='<table border="0" width="100%"><tr><td width="60">\u6587 \u5b57\uff1a</td><td height="25" align="left"><input type="text" style="width:220px;" name="text" maxlength="200" fill="Selection"/></td></tr><tr><td>\u7f51 \u5740\uff1a</td><td height="25" align="left"><input type="text" value="http://" style="width:220px;" name="url" maxlength="250"/></td></tr><tr><td>\u6253 \u5f00\uff1a</td><td align="left"><select name="target"><option value="_blank">\u5728\u65b0\u7a97\u53e3</option><option value="_self">\u5728\u672c\u7a97\u53e3</option></select></td></tr></table>'},
get:function(b,f){var e=f.getValues(),c="";e.text&&e.url?c='<a href="'+e.url+'" target="'+e.target+'">'+e.text+"</a>":e.text?e.url||f.error("\u8bf7\u8f93\u5165\u8d85\u94fe\u63a5\u7f51\u5740"):f.error("\u8bf7\u8f93\u5165\u8d85\u94fe\u63a5\u6587\u5b57");return c},check:function(b,h){var e=h.getValues();return/(hudong|baike)\.com/i.test(location.hostname)&&!f.test(e.url)?(h.error("\u63d0\u793a\uff1a\u4e3a\u907f\u514d\u5916\u94fe\u5e7f\u544a\uff0c\u4ec5\u5141\u8bb8\u4e92\u52a8\u767e\u79d1\u7684\u94fe\u63a5"),
!1):!0}})})(jQEditor);
(function(b,f){var g=0,h=b.mod("Menu"),e=b.mod("Event");b.plugin("InsertTable",{menuType:"Menu",menuTitle:"\u8868\u683c\u64cd\u4f5c",isNeedTitle:0,depends:["Panel","Selection"],config:{width:280},init:function(a){for(var d=['<table id="jqe-plugin-table" class="jqe-plugin-table">'],b=1;b<=10;b++){d.push("<tr>");for(var c=1;c<=12;c++)d.push('<td ij="'+b+"-"+c+'"><a href="jqe:\u70b9\u51fb\u63d2\u5165\u4e00\u4e2a'+b+"\u884c"+c+'\u5217\u7684\u8868\u683c" title="'+b+"\u884c"+c+'\u5217, \u70b9\u51fb\u63d2\u5165" onclick="return false;">&nbsp;</a></td>');d.push("</tr>")}d.push('<tr><td colspan="12" style="text-align:left;color:#666666;">');
d.push('&nbsp;\u8868\u683c\u5bbd <input name="width" style="width:40px;" maxlength="4" value="600"/>');d.push('<span class="jqe-plugin-table-xtrxtd">x\u884cx\u5217</span></td></tr>');d.push("</table>");a.cache.html=d.join("")},one:function(a,d){var d=this,b=a.find(".jqe-plugin-table td[ij]");b.mouseover(function(){var c=f(this);clearTimeout(g);g=setTimeout(function(){d.hightLight(c,b,a)},100)})},hightLight:function(a,d,b){var c=a.attr("ij").split("-"),a=c[0],c=c[1];d.removeClass("hover");for(var e=
1;e<=a;e++)for(var g=1;g<=c;g++)d.filter('[ij="'+e+"-"+g+'"]').addClass("hover");b.find(".jqe-plugin-table-xtrxtd").text(a+"\u884c "+c+"\u5217")},action:function(a,d,b){var a=a.closest("[ij]"),d=d.find("input[name=width]"),c=f.trim(d.val());if(!a.size())return!1;if(!c||!/^(\d{0,4}|\d{1,3}%)$/.test(c))c="";c&&d.val(c);a=a.attr("ij").split("-");ix=a[0];jx=a[1];b.hide();b=['<table class="jqe-table" width="'+c+'" border="1" bordercolor="#cccccc">'];b.push("<tbody>");b.push("<tr>");for(a=1;a<=jx;a++)b.push("<th>&nbsp;&nbsp;</th>");
b.push("</tr>");for(d=1;d<=ix;d++){b.push("<tr>");for(a=1;a<=jx;a++)b.push("<td>&nbsp;&nbsp;</td>");b.push("</tr>")}b.push("</tbody></table><br />");return b.join("")},menu:function(a,d){b.mod("Menu").set(d.event,d.name);return 1}});h.add("InsertTable",{title:"\u8868\u683c\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){var a=e.getElement(),d=null,b,c;if(a)b=a.table,c=a.cell;if(b){if(a=b.getElementsByTagName("th"),b=b.caption,d={InsertTable:0,addTableTitleRow:1,RemoveTableTitleRow:1,
addTableCaption:1,RemoveTableCaption:1,Insert:{RowInsertBefore:1,RowInsertAfter:1,ColumnInsertBefore:1,ColumnInsertAfter:1,Append5Row:1,Append5Column:1},Remove:{RemoveRow:1,RemoveColumn:1,EmptyTable:1,RemoveTable:1},MergeCell:{ColumnMergeAfter:1,RowMergeAfter:1,CancelCellMerge:1},"-a":1,SetTableWidth:{TableWidthDefault:1,TableWidthAuto:1,TableWidthFixed:1,TableWidthAverage:1},SetColumnWidth:{SetColumnWidthAdd10:1,SetColumnWidthReduce10:1,SetColumnWidthAdd50:1,SetColumnWidthReduce50:1},SetColumnAlign:{SetColumnAlignLeft:1,
SetColumnAlignRight:1,SetColumnAlignCenter:1,SetColumnValignTop:1,SetColumnValignCenter:1},SetRowAlign:{SetRowAlignLeft:1,SetRowAlignRight:1,SetRowAlignCenter:1,SetRowValignTop:1,SetRowValignCenter:1},SetCellAlign:{SetCellAlignLeft:1,SetCellAlignRight:1,SetCellAlignCenter:1,SetCellValignTop:1,SetCellValignCenter:1},TableMove:{RowMoveBefore:1,RowMoveAfter:1,RowMoveFirst:1,RowMoveLast:1}},b&&b.innerHTML?delete d.addTableCaption:delete d.RemoveTableCaption,a.length?delete d.addTableTitleRow:delete d.RemoveTableTitleRow,
c.rowSpan==1&&c.colSpan==1)d.MergeCell.CancelCellMerge=0}else d={InsertTable:a?2:0,addTableTitleRow:0,RemoveTableTitleRow:0,addTableCaption:0,RemoveTableCaption:0,Insert:0,Remove:0,MergeCell:0,"-a":1,SetTableWidth:0,SetColumnWidth:0,SetColumnAlign:0,SetRowAlign:0,SetCellAlign:0,TableMove:0};return d}});h.add("contextmenu",{title:"\u4e00\u4e2a\u53f3\u952e\u83dc\u5355\uff0c\u6ca1\u6709\u9009\u4e2d\u5185\u5bb9\u65f6\u89e6\u53d1",check:function(a,b){if(a&&typeof a=="object")if(/^(h2|h3|img|a)$/i.test(a.nodeName))return!1;
else if(/^(td|th|caption)$/i.test(a.nodeName))return!0;else{if(b.ctrlKey)return!0}else return!1},getHtml:function(a){var d={Redo:1,Undo:1},c=b.$(a).closest("td,th"),a=b.$(a).closest("a");if(c.size()){if(d=c.closest("tr"),a=d.closest("table"),c=c[0],a=a[0],th=a.getElementsByTagName("th"),d={addTableTitleRow:1,RemoveTableTitleRow:1,addTableCaption:1,RemoveTableCaption:1,Insert:{RowInsertBefore:1,RowInsertAfter:1,ColumnInsertBefore:1,ColumnInsertAfter:1,Append5Row:1,Append5Column:1},Remove:{RemoveRow:1,
RemoveColumn:1,EmptyTable:1,RemoveTable:1},MergeCell:{ColumnMergeAfter:1,RowMergeAfter:1,CancelCellMerge:1},"-a":1,SetTableWidth:{TableWidthDefault:1,TableWidthAuto:1,TableWidthFixed:1,TableWidthAverage:1},SetColumnWidth:{SetColumnWidthAdd10:1,SetColumnWidthReduce10:1,SetColumnWidthAdd50:1,SetColumnWidthReduce50:1},SetColumnAlign:{SetColumnAlignLeft:1,SetColumnAlignRight:1,SetColumnAlignCenter:1,SetColumnValignTop:1,SetColumnValignCenter:1},SetRowAlign:{SetRowAlignLeft:1,SetRowAlignRight:1,SetRowAlignCenter:1,
SetRowValignTop:1,SetRowValignCenter:1},SetCellAlign:{SetCellAlignLeft:1,SetCellAlignRight:1,SetCellAlignCenter:1,SetCellValignTop:1,SetCellValignCenter:1},TableMove:{RowMoveBefore:1,RowMoveAfter:1,RowMoveFirst:1,RowMoveLast:1}},(caption=a.caption)&&caption.innerHTML?delete d.addTableCaption:delete d.RemoveTableCaption,th.length?delete d.addTableTitleRow:delete d.RemoveTableTitleRow,c.rowSpan==1&&c.colSpan==1)d.MergeCell.CancelCellMerge=0}else{d.Image=1;d.InsertTable=2;if(a.size())d.Link=1;d.Source=
1}return d}});b.plugin("RemoveTable",{isNeedPanel:0,click:function(){var a=e.getElement().table;b.$(a).remove();return!0}});b.plugin("RemoveRow",{isNeedPanel:0,click:function(){var a=e.getElement().row;b.$(a).remove();return!0}});var c={removeColumn:function(){var a,b;a=e.getElement();b=a.table;a=a.cell.cellIndex;for(var c=0,g=b.rows.length;c<g;c++)b.rows[c].deleteCell(a)},insertRow:function(a,c,e){var g,e=e||0;a&&c&&(g=b.$(c).clone(),g.children().html("&nbsp;").attr("rowSpan",1),a=a.insertRow(c.rowIndex+
e),b.$(a).html(g.html()))},moveRow:function(a,c,e){e=e||"after";a&&c&&(e==="before"?(a=b.$(c).prev(),a.size()&&a.before(c)):e==="after"?(a=b.$(c).next(),a.size()&&a.after(c)):e==="first"?b.$(a).prepend(c):e==="last"&&b.$(a).append(c))},addTitleRow:function(a){var c="";a&&(c=b.$(a.rows[0]).clone(),c.children().html("&nbsp;").attr("rowSpan",1),c=c.html().replace(/td/ig,"th"),a=a.insertRow(0),b.$(a).html(c))},insertColumn:function(a,c,e){for(var g,f,c=c.cellIndex,e=c+e,h=0,o=a.rows.length;h<o;h++)g=
a.rows[h],e<=g.cells.length&&(f=b.$(g.cells[c]).clone(),f.html("&nbsp;"),g=g.insertCell(e),b.$(g).replaceWith(f[0]))},setCell:function(){e.getElement()},setTable:function(){},setCaption:function(){var a;a=e.getElement().table;a.caption?a.deleteCaption():a.createCaption().innerHTML="\u8868\u683c\u540d\u79f0"},mergeColumn:function(){var a,c,b,g;a=e.getElement();c=a.cell;a=a.row;g=c.colSpan;b=c.cellIndex;if(b<a.cells.length-1&&(b=a.cells[b+1])&&c.rowSpan==b.rowSpan)c.colSpan=g+b.colSpan,c.innerHTML+=
b.innerHTML,a.removeChild(b)},mergeRow:function(){var a,c,b,g,f,h;a=e.getElement();g=a.table;c=a.cell;h=a.row;b=c.cellIndex;f=h.rowIndex;a=c.rowSpan;if(f<g.rows.length-1&&(f=g.rows[f+a],(b=f.cells[b])&&c.colSpan==b.colSpan)){if(h.cells.length>1)c.rowSpan=a+b.rowSpan;c.innerHTML+=b.innerHTML;f.removeChild(b);f.cells.length||g.deleteRow(f.rowIndex)}},unMerge:function(a,c,b){var e=b.cellIndex,g=c.rowIndex;if(b.rowSpan>1){c=b.rowSpan;b.rowSpan=1;for(var f=0;f<c-2;f++)b=a.rows[g+f+1].insertCell(e),b.innerHTML=
"&nbsp;"}else if(b.colSpan>1){a=b.colSpan;b.colSpan=1;for(f=0;f<a-1;f++)b=c.insertCell(e+1),b.innerHTML="&nbsp;"}},setColumnWidth:function(a,c,e){for(var e=b.$(c).width()+e,g=c.cellIndex,f=0,h=a.rows.length;f<h;f++)if((c=a.rows[f].cells[g])&&c.colSpan==1)c.width=e},SetCellAlign:function(a,c,b){if(a){if(c)a.align=c;if(b)a.vAlign=b}},SetColumnAlign:function(a,c,b,e){for(var g=c.cellIndex,f=0,h=a.rows.length;f<h;f++)if(c=a.rows[f].cells[g]){if(b)c.align=b;if(e)c.vAlign=e}},SetRowAlign:function(a,c,b){for(var e=
0,g=a.cells.length;e<g;e++)if(cell=a.cells[e]){if(c)cell.align=c;if(b)cell.vAlign=b}}};b.plugin("RemoveColumn",{click:function(a){c.removeColumn(a);return!0}});b.plugin("RowInsertBefore",{click:function(){var a=e.getElement();c.insertRow(a.table,a.row,0);return!0}});b.plugin("RowInsertAfter",{click:function(){var a=e.getElement();c.insertRow(a.table,a.row,a.cell.rowSpan);return!0}});b.plugin("Append5Row",{click:function(){for(var a=e.getElement(),b=a.table.rows,b=b[b.length-1],g=0;g<5;g++)c.insertRow(a.table,
b,1);return!0}});b.plugin("ColumnInsertBefore",{click:function(){eles=e.getElement();table=eles.table;cell=eles.cell;c.insertColumn(table,cell,0);return!0}});b.plugin("ColumnInsertAfter",{click:function(){eles=e.getElement();table=eles.table;cell=eles.cell;c.insertColumn(table,cell,cell.colSpan);return!0}});b.plugin("Append5Column",{click:function(){var a=e.getElement(),c=a.table.rows,a=a.cell.width;ths=b.$("<th></th><th></th><th></th><th></th><th></th>");tds=b.$("<td></td><td></td><td></td><td></td><td></td>");
ths.html("&nbsp;");tds.html("&nbsp;");a&&(ths.width(a),tds.width(a));for(var a=0,g=c.length;a<g;a++)f.nodeName(c[a].cells[0],"th")?ths.clone().appendTo(c[a]):tds.clone().appendTo(c[a]);return!0}});b.plugin("ColumnMergeAfter",{click:function(a){c.mergeColumn(a,1);return!0}});b.plugin("RowMergeAfter",{click:function(a){c.mergeRow(a,1);return!0}});b.plugin("CancelCellMerge",{click:function(){var a=e.getElement();c.unMerge(a.table,a.row,a.cell);return!0}});b.plugin("addTableCaption",{click:function(a){c.setCaption(a);
return!0}});b.plugin("RemoveTableCaption",{click:function(a){c.setCaption(a);return!0}});b.plugin("addTableTitleRow",{click:function(){var a=e.getElement();a.table&&c.addTitleRow(a.table);return!0}});b.plugin("RemoveTableTitleRow",{click:function(){var a=e.getElement();a.table&&a.table.deleteRow(0);return!0}});b.plugin("EmptyTable",{click:function(){var a=e.getElement(),c;if(a.table)for(var a=a.table,b=0,g=a.rows.length;b<g;b++){c=a.rows[b];for(var f=0,h=c.cells.length;f<h;f++)c.cells[f].innerHTML=
"<br />"}return!0}});b.plugin("TableWidthDefault",{click:function(){var a=e.getElement().table,c;a.removeAttribute("width");for(var b=0,g=a.rows.length;b<g;b++){c=a.rows[b];for(var f=0,h=c.cells.length;f<h;f++)c.cells[f].removeAttribute("width")}return!0}});b.plugin("TableWidthAuto",{click:function(){var a=e.getElement().table,c;a.width="99%";for(var b=0,g=a.rows.length;b<g;b++){c=a.rows[b];for(var f=0,h=c.cells.length;f<h;f++)c.cells[f].removeAttribute("width")}return!0}});b.plugin("TableWidthFixed",
{click:function(){var a=e.getElement().table,c,g;width=b.$(a).width();a.removeAttribute("width");for(var f=0,h=a.rows.length;f<h;f++){c=a.rows[f];for(var i=0,o=c.cells.length;i<o;i++)g=c.cells[i],g.width=b.$(g).outerWidth()}return!0}});b.plugin("TableWidthAverage",{click:function(){var a=e.getElement().table,c,g,f;c=a.rows[0].cells;for(var h=g=0,i=c.length;h<i;h++)g+=c[h].colSpan;f=a.width?a.width/g:b.$(a).width()/g;f=Math.round(f)-10;a.removeAttribute("width");h=0;for(i=a.rows.length;h<i;h++){c=
a.rows[h];for(var o=0,m=c.cells.length;o<m;o++)if(g=c.cells[o],g.colSpan==1)g.width=f}return!0}});b.plugin("SetColumnWidthAdd10",{click:function(){var a=e.getElement();c.setColumnWidth(a.table,a.cell,10);return!0}});b.plugin("SetColumnWidthReduce10",{click:function(){var a=e.getElement();c.setColumnWidth(a.table,a.cell,-10);return!0}});b.plugin("SetColumnWidthAdd50",{click:function(){var a=e.getElement();c.setColumnWidth(a.table,a.cell,50);return!0}});b.plugin("SetColumnWidthReduce50",{click:function(){var a=
e.getElement();c.setColumnWidth(a.table,a.cell,-50);return!0}});b.plugin("SetColumnAlignLeft",{click:function(){var a=e.getElement();c.SetColumnAlign(a.table,a.cell,"left","");return!0}});b.plugin("SetColumnAlignRight",{click:function(){var a=e.getElement();c.SetColumnAlign(a.table,a.cell,"right","");return!0}});b.plugin("SetColumnAlignCenter",{click:function(){var a=e.getElement();c.SetColumnAlign(a.table,a.cell,"center","");return!0}});b.plugin("SetColumnValignTop",{click:function(){var a=e.getElement();
c.SetColumnAlign(a.table,a.cell,"","top");return!0}});b.plugin("SetColumnValignCenter",{click:function(){var a=e.getElement();c.SetColumnAlign(a.table,a.cell,"","center");return!0}});b.plugin("SetRowAlignLeft",{click:function(){var a=e.getElement();c.SetRowAlign(a.row,"left","");return!0}});b.plugin("SetRowAlignRight",{click:function(){var a=e.getElement();c.SetRowAlign(a.row,"right","");return!0}});b.plugin("SetRowAlignCenter",{click:function(){var a=e.getElement();c.SetRowAlign(a.row,"center","");
return!0}});b.plugin("SetRowValignTop",{click:function(){var a=e.getElement();c.SetRowAlign(a.row,"","top");return!0}});b.plugin("SetRowValignCenter",{click:function(){var a=e.getElement();c.SetRowAlign(a.row,"","center");return!0}});b.plugin("SetCellAlignLeft",{click:function(){var a=e.getElement();c.SetCellAlign(a.cell,"left","");return!0}});b.plugin("SetCellAlignRight",{click:function(){var a=e.getElement();c.SetCellAlign(a.cell,"right","");return!0}});b.plugin("SetCellAlignCenter",{click:function(){var a=
e.getElement();c.SetCellAlign(a.cell,"center","");return!0}});b.plugin("SetCellValignTop",{click:function(){var a=e.getElement();c.SetCellAlign(a.cell,"","top");return!0}});b.plugin("SetCellValignCenter",{click:function(){var a=e.getElement();c.SetCellAlign(a.cell,"","center");return!0}});b.plugin("RowMoveBefore",{click:function(){var a=e.getElement();c.moveRow(a.table,a.row,"before");return!0}});b.plugin("RowMoveAfter",{click:function(){var a=e.getElement();c.moveRow(a.table,a.row,"after");return!0}});
b.plugin("RowMoveFirst",{click:function(){var a=e.getElement();c.moveRow(a.table,a.row,"first");return!0}});b.plugin("RowMoveLast",{click:function(){var a=e.getElement();c.moveRow(a.table,a.row,"last");return!0}});b.plugin("TableProps",{config:{position:"center",width:400},init:function(a){a.cache.html='<table width="100%" border="0" class="jqe-plugin-tableprops">\t\t\t<tbody><tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u8868\u683c<span class="jqe-panel-notice">(\u8bbe\u7f6e\u8868\u683c\u5c5e\u6027)</td></tr>\t\t\t<tr><td>\u884c\u6570:<br/><input type="text" name="talbeRows" maxlength="3"/></td>\t\t\t\t<td>\u8868\u683c\u5bbd\u5ea6:<br/><input type="text" name="talbeWidth" maxlength="5"/></td>\t\t\t\t<td>\u8868\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td>\u5217\u6570:<br/><input type="text" name="talbeCols" maxlength="3"/></td>\t\t\t<td>\u8868\u683c\u9ad8\u5ea6:<br/><input type="text" name="talbeHeight" maxlength="5"/></td>\t\t\t<td>\u8868\u683c\u8fb9\u6846:<br/><input type="text" name="talbeBorder" maxlength="2"/></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u884c<span class="jqe-panel-notice">(\u8bbe\u7f6e\u6574\u884c\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="rowBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="rowWidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="rowHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u5217<span class="jqe-panel-notice">(\u8bbe\u7f6e\u6574\u5217\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="columnBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="columnWeidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="columnHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t<tr><td colspan="4" class="jqe-plugin-tableprops-title">\t\t\t\u5355\u5143\u683c<span class="jqe-panel-notice">(\u4ec5\u8bbe\u7f6e\u5f53\u524d\u4e00\u4e2a\u5355\u5143\u683c\u7684\u5c5e\u6027)</span></td></tr>\t\t\t<tr><td>\u5355\u5143\u683c\u80cc\u666f:<br/><input type="text" name="cellBg" maxlength="16"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bbd\u5ea6:<br/><input type="text" name="cellWidth" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u9ad8\u5ea6:<br/><input type="text" name="cellHeight" maxlength="3"/></td>\t\t\t<td>\u5355\u5143\u683c\u5bf9\u9f50:<br/><select name="tableAlign"><option value="left">\u5de6\u5bf9\u9f50</option>\t\t\t\t<option value="center">\u5c45\u4e2d</option>\t\t\t\t<option value="right">\u53f3\u5bf9\u9f50</option></select></td></tr>\t\t\t</tbody></table>'},
callback:function(){},ok:function(){c.setTable(h);return 0}})})(jQEditor,jQuery);
(function(b){var f=b.consts,g="";b.plugin("Source",{icon:{width:50,text:"\u6e90\u4ee3\u7801","default":{Source:{XY:"none"}}},config:{width:700,position:"center",overlay:!0},init:function(b){b.cache.html='<textarea name="content" style="width:99%;height:360px"></textarea>'},callback:function(f){var e=b.getHTML(),e=e.replace(/<p([^>]*)>/ig,"\n<p$1>\n").replace(/<\/p>/ig,"\n</p>\n").replace(/<br \/>/ig,"<br />\n").replace(/\s\n<\/p>/ig,"\n</p>").replace(/<p([^>]*)>\n+/ig,"<p$1>\n").replace(/<p(?:[^>]*)>\s*<\/p>/ig,
"").replace(/\n{2,}/ig,"\n");g=(g=$.trim(e))||"<p>\n\n</p>";f.find("textarea[name=content]").val(g)},ok:function(h,e){var c=b.mod("Utils"),a=h.find("textarea[name=content]").val(),d=0,a=$.trim(a);a===g?d=1:(a===""?a=f.IE?"<p>&nbsp;</p>":"<p><br></p>":/<\w+/i.test(a)||(a="<p>"+a+"</p>"),(c=c.checkTag(a))?e.error(c):(b.setHTML(a),d=1));return d}})})(jQEditor);
(function(b){b.plugin("PasteText",{config:{width:600,position:"center",overlay:!0},depends:["Panel","Selection"],init:function(b){b.cache.html='<textarea name="content" style="width:99%;height:260px"></textarea>'},get:function(f){var g=b.mod("Utils"),f=f.find("textarea[name=content]").val();return g.escape(f)}})})(jQEditor);
(function(b){var f=null;b.plugin("PasteWord",{defaultHtml:"<p>&nbsp;</p>",config:{width:600,position:"center",overlay:!0},init:function(b){b.cache.html='<div class="jqe-plugin-pasteword"></div>'},one:function(g,h){var e=g.find(".jqe-plugin-pasteword"),c={id:"PasteWord",contentEditable:!0,iframeStyle:{width:"99%",height:"99%",margin:"0 5px"},contentCssName:b.get("option").contentCssName};h.notice("\u8bf7\u5c06Word\u5f53\u4e2d\u7684\u5185\u5bb9\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u65b9\u6846\u91cc\uff0c\u7136\u540e\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u3002");
e=b.iframe(c,e,h.defaultHtml);f=e.dom;e.win.focus()},callback:function(b,h){f.body.innerHTML=h.defaultHtml},get:function(b,h){var e="",c="";if(f)c=f.body.innerHTML,e=h.cleanWord(c),/^<p>&nbsp;<\/p>$/i.test(e)&&(e="");return e},cleanWord:function(b){if(b.match(/mso(-|normal)|WordDocument|<table\s+[^>]*?x:str/i))for(var b=b.replace(/<\!--[\s\S]*?--\>|<!(--)?\[[\s\S]+?\](--)?>|<style(\s+[^>]*?)?>[\s\S]*?<\/style>/ig,""),b=b.replace(/\r?\n/ig,""),b=b.replace(/(<(\/?)([\w-:]+))((?:\s+[\w-:]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^>\s]+))?)*)\s*(\/?>)/g,
function(b,c,a,d,f,g){d=d.toLowerCase();if(d.match(/^(link|img)$/)&&f.match(/file:\/\//i)||d.match(/:/)||d==="span")return"";a||(f=f.replace(/\s([\w-:]+)(?:\s*=\s*("[^"]*"|'[^']*'|[^>\s]+))?/ig,function(a,c,b){c=c.toLowerCase();b.match(/^(["']?)(.*)\1/);if(c.match(/:/))return"";else if(c.match(/^(class|lang|language|span)$/))return"";else if(d==="td"&&(c==="height"||c==="width"&&!f.match(/\scolspan="\d+"/i)))return"";else if(c==="style")return"";return a}));return c+f+g}),f=0;f<3;f++)b=b.replace(/<([^\s>]+)(\s+[^>]*)?>\s*<\/\1>/g,
function(b,c){return c.match(/^a$/i)?b:""});return b}})})(jQEditor);(function(b){b.plugin("Help",{config:{position:"center",overlay:!0,width:400,height:220},init:function(b){var g=[];g.push('<div class="jqe-panel-tabs">');g.push('<a class="jqe-panel-tabs-selected jqe-panel-tabs-first">\u4f7f\u7528\u5e2e\u52a9</a><a>\u5feb\u6377\u952e</a>');g.push("</div>");g.push('<div class=""></div>');g.push('<div class=""></div>');b.cache.html=g.join("")}})})(jQEditor);
(function(b){var f=b.mod("Event"),g=b.mod("History");b.plugin("Redo,Undo",{click:function(f,e){var c=e.name;if(g)g[c]();else b.execCommand(c);return 1}});f.bind("oncreate",function(){var f=b.plugin("Undo"),e=b.plugin("Redo");f.disable();e.disable()})})(jQEditor);
(function(b){b=b.mod("Menu");b.add("mouseup",{title:"\u5de6\u952e\u83dc\u53551",check:function(){return!1},getHtml:function(){var b=[];b.push('<div class="jqe-menu-text">');b.push("\u6587\u672c\u5904\u7406\u83dc\u5355");b.push("</div>");return b.join("")}});b.add("click",{title:"\u5de6\u952e\u83dc\u53552",check:function(){return 0},getHtml:function(){return{a:"\u83dc\u53551",b:"\u83dc\u53552",c:"\u83dc\u53553"}}});b.add("contextmenu",{title:"\u4e00\u4e2a\u53f3\u952e\u83dc\u5355\uff0c\u6709\u9009\u4e2d\u5185\u5bb9\u65f6\u89e6\u53d1",
check:function(){return!1},getHtml:function(){var b={};return b={H1:1,H2:1,Link:1,BaikeLink:1,Format:{Bold:1,Italic:1,Underline:1,StrikeThrough:1,SubScript:1,SuperScript:1},"-a":1,BaikeSearch:1,Search:{BaiduSearch:1,GoogleSearch:1}}}})})(jQEditor,jQuery);
(function(b){function f(e){b.setEid(e.id);var c=b.get("document");b.get("iframe");var a=b.plugin("Resize"),d=0,f=c.createElement("DIV");f.style.clear="both";f.style.display="block";c.body.appendChild(f);d=Math.max(f.offsetTop+20,e.height);c.body.removeChild(f);a.setHeight(d,e.autoHeight||100)}var g=b.consts,h=b.mod("Event");b.plugin("Resize",{autoHeight:function(){var e=b.get("option");e.autoHeight&&f(e)},setHeight:function(e,c){var a=$("#"+b.eid).find("div.jqe-content"),c=typeof c==="number"?c:1;
if(g.IE6)a.height(e),a.children("iframe").height(e);else return a.height(e),!1;b.log("run","autoHeight = "+e+", speed="+c)}});h.bind("oncreate",function(){var e=b.get("option");e.autoHeight&&(setTimeout(function(b){return function(){f(b)}}(e),250),setTimeout(function(b){return function(){f(b)}}(e),500))});h.bind("load",function(){var e=b.get("option");e.autoHeight&&f(e)});h.bind("onmonitor",function(){var e=b.get("option");e.autoHeight&&f(e)})})(jQEditor);
(function(b){var f=b.consts,g=b.mod("Event"),h=!1;b.plugin("FixedToolbar",{});g.bind("onscroll",function(){var e=$(document).scrollTop(),c=b.mod("Toolbar").getCurrent(),a=b.get("option"),d=$("#"+b.eid+" .jqe-content"),d=d.height()+d.offset().top;if(!c||!a.autoHeight)b.log("run","\u6ca1\u6709\u627e\u5230\u5de5\u5177\u680f\u6216\u672a\u8bbe\u7f6e\u6d6e\u52a8");else{if(f.IE6&&!e)e=document.documentElement.scrollTop;if(a.toolbarTop&&(e<a.toolbarTop||e>d))c.removeClass(a.fixedClassName),f.IE6&&c.css("top",
0),b.log("run","\u5de5\u5177\u680f\u53d6\u6d88\u6d6e\u52a8"),h=!1;else{h||(c.addClass(a.fixedClassName),b.log("run","\u5de5\u5177\u680f\u5f00\u59cb\u6d6e\u52a8"));if(f.IE6){for(var a=c.parents(),d=null,g=0;g<a.length;g++)if(d=a.eq(g),d.css("position")=="relative"){e-=d.offset().top;break}c.css("top",e)}h=!0}}})})(jQEditor);
(function(b){b.mod("Event");var f=b.mod("Utils"),g=b.mod("Message");b.plugin("BaikeLink",{click:function(){var b="";(b=this.getSelectionText())?f.strlen(b)>40?g.showError("\u767e\u79d1\u94fe\u63a5\uff0c\u4e0d\u80fd\u9009\u62e9\u8d85\u8fc740\u4e2a\u5b57\u7b26\u7684\u957f\u5ea6\uff01"):/[`~!\\\/]/.test(b)?g.showError("\u767e\u79d1\u94fe\u63a5\uff0c\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26\u201c`~!/\u201d\uff01"):(b='<a href="http://www.hudong.com/wiki/'+encodeURIComponent(b)+'" class="baikelink" title="'+
b+'" target="_blank">'+b+"</a>",this.pasteHTML(b)):g.showError("\u8bf7\u9009\u62e9\u9700\u8981\u8bbe\u7f6e\u4e3a\u767e\u79d1\u94fe\u63a5\u7684\u6587\u5b57\uff01");return 1}})})(jQEditor);
(function(b){var f,g;function h(c,h){var l="",l=h.getSelectionText(),k=h.getCursorElement();b.get("document");var i=$.nodeName(k,"div"),o=$(k);i&&$(k).attr("class")==c?(k=$(k),l=$.trim(k.text())?k.html():"",k.replaceWith(l)):i&&(o.attr("class")==f||o.attr("class")==g)?o.attr("class",c):(k=!1,!l||$.trim(l).length<1?k="\u4e0d\u80fd\u8bbe\u7f6e\u7a7a\u6807\u9898\u3002":e.strlen(l)>40&&(k="\u6807\u9898\u6700\u591a40\u4e2a\u5b57\u7b26\uff0c\u4e00\u4e2a\u6c49\u5b57\u7b972\u4e2a\u5b57\u7b26\u3002"),k?(b.showError(k),
k=!1):k=!0,k&&(l=a.replace(/\[class\]/g,c).replace(/\[text\]/g,l),h.pasteHTML(l)));return 1}var e=b.mod("Utils"),c=b.mod("Menu");b.mod("Selection");f="hdwiki_tmml";g="hdwiki_tmmll";var a='<div class="[class]">[text]</div>';c.add("mouseup",{title:"\u76ee\u5f55\u5feb\u6377\u83dc\u5355",check:function(a){var b=!1,c;if(a&&typeof a==="object"&&(c=$(a),$.nodeName(a,"div")&&c.size()&&(f==c.attr("class")||g==c.attr("class"))))b=!0;return b},getHtml:function(){return{className:"jqe-shortcut-menu",html:'<a name="ShortcutMenu" method="totext">\u53d6\u6d88\u76ee\u5f55</a> <a name="ShortcutMenu" method="remove">\u5220\u9664\u76ee\u5f55</a>'}}});
b.plugin("H1",{inserthtml:"custom",icon:{width:60,text:"\u4e00\u7ea7\u76ee\u5f55","default":{H1:{XY:"none"}}},click:function(){return h(f,this)}});b.plugin("H2",{inserthtml:"custom",icon:{width:60,text:"\u4e8c\u7ea7\u76ee\u5f55","default":{H2:{XY:"none"}}},click:function(){return h(g,this)}})})(jQEditor);
(function(b,f){var g=b.mod("Menu"),h=b.mod("Event");g.add("mouseup",{title:"\u94fe\u63a5\u5feb\u6377\u83dc\u5355",check:function(b){var a=!1;b&&typeof b==="object"&&f.nodeName(b,"A")&&(a=!0);return a},getHtml:function(b){var a=[],b=f(b),d=b.text(),e=b.attr("href");a.push('<a name="ShortcutMenu" method="unlink" title="\u5c06\u94fe\u63a5\u8f6c\u4e3a\u7eaf\u6587\u672c">\u53d6\u6d88\u94fe\u63a5(Esc)</a>');e&&(b=/^http:\/\/www\.hudong\.com\/wiki\//.test(e)||b.hasClass("baikelink")||b.hasClass("innerlink")?
"http://www.hudong.com/wiki/"+encodeURI(d):e,a.push('<a href="'+b+'" title="'+b+'" target="_blank" name="ShortcutMenu" method="openlink">\u6253\u5f00\u94fe\u63a5</a>'));return{className:"jqe-shortcut-menu",html:a.join(" ")}}});g.add("mouseup",{title:"\u76ee\u5f55\u5feb\u6377\u83dc\u5355",check:function(b){var a=!1;if(b&&typeof b==="object"&&(f.nodeName(b,"H2")||f.nodeName(b,"H3")))a=!0;return a},getHtml:function(){var b=[];b.push('<a name="ShortcutMenu" method="totext">\u53d6\u6d88\u76ee\u5f55(Esc)</a> <a name="ShortcutMenu" method="remove">\u5220\u9664\u76ee\u5f55</a>');
return{className:"jqe-shortcut-menu",html:b.join("")}}});b.plugin("ShortcutMenu",{click:function(b,a,d){var b=!1,e=h.getTarget(),f=d.attr("method");a[f]?b=a[f](e,d):alert("\u63d0\u793a\uff1a\u5feb\u6377\u83dc\u5355\u65b9\u6cd5\u540d\u79f0\u9519\u8bef\uff01");return b},totext:function(c){var a=f(c).text(),d=b.get("document");f(c,d).replaceWith(a);return!0},unlink:function(c){var a=f(c).html(),d=b.get("document");f(c,d).replaceWith(a);return!0},remove:function(b){b.parentNode.removeChild(b);return!0},
table:function(c,a){var d=a.attr("plugin");b.plugin(d).click();return d.indexOf("Insert")>-1?!1:!0},openlink:function(){return!0},removeRefer:function(b){b.parentNode.removeChild(b);return!0},editRefer:function(c,a){var d=b.plugin(a.attr("plugin"));d.editor_callback(c.getAttribute("name"),d);return!0}});g.add("mouseup",{title:"\u56fe\u7247\u5feb\u6377\u83dc\u5355",check:function(b){var a=!1;b&&typeof b==="object"&&f.nodeName(b,"IMG")&&(a=!0);return a},getHtml:function(b){var a=[],b=/a\d\.att\.hudong\.com/i.test(b.src);
a.push("<span>\u5c3a\u5bf8\uff1a");b?(a.push('<a name="ShortcutMenu-Image" method="resize" param="_950">\u5927</a>'),a.push('<a name="ShortcutMenu-Image" method="resize" param="_s">\u4e2d</a>'),a.push('<a name="ShortcutMenu-Image" method="resize" param="_140">\u5c0f</a>')):a.push("\u5927 \u4e2d \u5c0f ");a.push("</span>");a.push("<span>\u4f4d\u7f6e\uff1a");a.push('<a name="ShortcutMenu-Image" method="align" param="left">\u5c45\u5de6</a>');a.push('<a name="ShortcutMenu-Image" method="align" param="center">\u5c45\u4e2d</a>');
a.push('<a name="ShortcutMenu-Image" method="align" param="right">\u5c45\u53f3</a>');a.push("</span>");a.push("<br />");a.push('<span><a name="ShortcutMenu-Image" method="desc">\u6dfb\u52a0\u63cf\u8ff0</a></span>|');a.push('<span><a name="ShortcutMenu-Image" method="remove">\u5220\u9664</a></span>');return{className:"jqe-shortcut-menu",html:a.join("")}},callback:function(b){var a=h.getTarget(),d=f(a).closest("div.img"),e=null,g={left:"img_l",center:"img_c",right:"img_r"},k=["_950","_s","_140"],i=
{color:"#333333",cursor:"default","text-decoration":"none"};if(d.length&&d.attr("class").indexOf("img")>-1){var o=d.attr("class"),m;for(m in g){var n=g[m];if(o.indexOf(n)>-1){e=m;break}}e&&b.find("[param="+e+"]").css(i).removeAttr("method").removeAttr("name");n=d.find("strong");n.length>0&&(n=b.find("[method=desc]"),n.css(i).removeAttr("method").removeAttr("name"))}if(/a\d\.att\.hudong\.com/i.test(a.src)){a=a.src;for(d=0;d<k.length;d++)if(n=k[d],a.indexOf(n)>-1){b.find("[param="+n+"]").css(i).removeAttr("method").removeAttr("name");
break}}}});g.add("mouseup",{title:"\u8868\u683c\u5feb\u6377\u83dc\u5355",timeout:3E3,check:function(c,a){var d=!1;if(a.button===2)return d;c&&typeof c==="object"&&b.$(c).closest("tr").size()&&(d=!0);return d},getHtml:function(){var b=[];b.push('<span>\u5220\u9664:<a name="ShortcutMenu" method="table" plugin="RemoveTable" title="\u5220\u9664\u6574\u4e2a\u8868\u683c">\u8868\u683c</a><a name="ShortcutMenu" method="table" plugin="RemoveRow" title="\u5220\u9664\u4e00\u884c">\u884c</a><a name="ShortcutMenu" method="table" plugin="RemoveColumn" title="\u5220\u9664\u4e00\u5217">\u5217</a></span>');
b.push('<span>\u79fb\u52a8:<a name="ShortcutMenu" method="table" plugin="RowMoveBefore" title="\u5411\u4e0a\u79fb\u52a8\u4e00\u884c">\u4e0a</a><a name="ShortcutMenu" method="table" plugin="RowMoveAfter" title="\u5411\u4e0b\u79fb\u52a8\u4e00\u884c">\u4e0b</a></span>');b.push('<span>\u63d2\u5165:<a name="ShortcutMenu" method="table" plugin="RowInsertBefore" title="\u5411\u4e0a\u63d2\u5165\u4e00\u884c">\u4e0a</a><a name="ShortcutMenu" method="table" plugin="RowInsertAfter" title="\u5411\u4e0b\u63d2\u5165\u4e00\u884c">\u4e0b</a><a name="ShortcutMenu" method="table" plugin="ColumnInsertBefore" title="\u5411\u5de6\u63d2\u5165\u4e00\u5217">\u5de6</a><a name="ShortcutMenu" method="table" plugin="ColumnInsertAfter" title="\u5411\u53f3\u63d2\u5165\u4e00\u5217">\u53f3</a></span>');
return{className:"jqe-shortcut-menu",html:b.join("")}}});b.plugin("ShortcutMenu-Image",{style:".ShortcutMenu-Image-selected{color:#333333;cursor:default;font-weight:bold;text-decoration:none;}",click:function(b,a,d){var b=h.getTarget(),e=d.attr("method"),f=d.attr("param"),g=!1;e&&(a[e]?g=a[e](b,f,d):alert("\u63d0\u793a\uff1a\u5feb\u6377\u83dc\u5355\u65b9\u6cd5\u540d\u79f0\u9519\u8bef\uff01"));return g},resize:function(b,a){e.update_img(b,a,"resize");return!0},align:function(b,a){e.update_img(b,a,
"align");return!0},desc:function(b){var a=f(b).closest("div.img"),d="";a.length&&(d=a.attr("class"),d.indexOf("img_l")>-1?d="left":d.indexOf("img_c")>-1?d="center":d.indexOf("img_r")>-1&&(d="right"));e.update_img(b,d,"desc");return!0},remove:function(b){b=f(b);b.closest("div.img").length?b=b.closest("div.img"):b.closest("a").length&&(b=b.closest("a"));b.remove();return!0}});var e={update_img:function(c,a,d){function e(c){h.attr("src");var f=o[a]?o[a]:"img_c";typeof c=="number"&&(i=c);if(i>g)i=g,h.width=
i;h.closest("a").length&&(h=h.closest("a"));c=h.closest("div.img");c.length?d=="resize"?c.width(i).find("img").width(i):c.removeClass("img_l img_c img_r").addClass(f):(c=b.$('<div class="img '+f+'" style="width:'+i+'px"></div>').append(h.clone()),h.replaceWith(c));d=="desc"&&!c.find("strong").length&&(m=h.attr("title")?h.attr("title"):h.attr("alt")?h.attr("alt"):"\u56fe\u7247\u63cf\u8ff0",c.append("<strong>"+m+"</strong>"))}var g=600,h=f(c),i=h.width(),o={left:"img_l",center:"img_c",right:"img_r"},
m="",c="";if(d=="resize"&&/a\d\.att\.hudong\.com/i.test(h.attr("src"))){c=h.attr("src").replace(/_140|_s|_950/i,a);h.attr("src",c);var n=new Image;n.onload=function(){h.attr("width",n.width);e(n.width)};n.src=c}else e()}}})(jQEditor,jQuery);
(function(b){function f(b){for(var c=b.childNodes,h=0;h<c.length;h++){var k=c[h];if(1==k.nodeType){var i=k.tagName.toLowerCase();if(e[i]){var o=g.IE?a:k.attributes,i=e[i],m=g.IE?k.style.cssText:k.getAttribute("style");if(m){for(var m=m.replace(/; /g,";").toLowerCase(),n,p=m.split(";"),q=0,s=p.length;q<s;q++)n=p[q].split(":"),$.inArray("."+n[0],i)==-1&&(m=m.replace(RegExp(n[0]+":"+n[1]+";?","i"),""));(m=$.trim(m))?g.IE?k.style.cssText=m:k.setAttribute("style",m):k.removeAttribute("style")}q=0;for(s=
o.length;q<s;q++)m=g.IE?o[q]:o[q].name.toLowerCase(),$.inArray(m,i)==-1&&(k.removeAttribute(m),k.getAttribute(m));k.hasChildNodes()&&f(k)}else{if(k.hasChildNodes())for(q=0;q<k.childNodes.length;q++)f(k.childNodes[q]),k.parentNode.insertBefore(k.childNodes[q].cloneNode(!0),k);k.parentNode.removeChild(k)}}}return b.innerHTML}var g=b.consts,h=[],e,c={font:[],span:["class","style",".font-weight",".font-style",".text-decoration"],div:["class","style",".width",".text-align"],a:["class","href","target",
"title","alt"],img:"class,src,alt,title,align,/".split(","),hr:["/"],br:["/"],p:["align","style",".text-align"],table:"class,style,width,.width,align,border,bordercolor,cellpadding".split(","),tbody:[],tr:[],th:["class","align","colspan","rowspan"],td:["class","align","colspan","rowspan"],ol:["class"],ul:["class"],li:["class"],sub:["class"],sup:["class","name"],blockquote:["style",".margin",".padding"],h2:[],h3:[],h4:[],h5:[],h6:[],em:[],strong:["style",".width"],b:[],i:[],u:[],strike:[],object:"classid,class,id,width,height,codebase".split(","),
embed:"style,src,type,loop,autostart,quality,.width,.height,flename,width,height,volume,pluginspage,console,controls,/".split(","),param:["name","value"]},a="onclick,onmouseout,onmouseover,onmousemove,align,color,font,height,vspace,hspace,id,class,style,left,right,name,rel,size,title,width,valign,bgcolor,dir".split(",");b.plugin("Cleanup",{click:function(){this.exec()},exec:function(a){var g=b.get("document"),l=b.mod("Message"),k=b.get("option");e=k.allowTags&&typeof k.allowTags==="object"?$.extend({},
c,k.allowTags):c;l.showNotice("\u6b63\u5728\u8fdb\u884c\u6e90\u7801\u6e05\u7406\uff0c\u8bf7\u7a0d\u7b49......\u3000\u3000\u3000",2E4);f(g.body);typeof a==="function"&&a();clearTimeout(h[b.eid]);h[b.eid]=setTimeout(function(){l.change("\u6b63\u5728\u8fdb\u884c\u6e90\u7801\u6e05\u7406\uff0c\u8bf7\u7a0d\u7b49......\u5b8c\u6210\uff01");clearTimeout(h[b.eid]);h[b.eid]=setTimeout(function(){l.hide()},500)},100);return!0}})})(jQEditor);
(function(b){var f={12:3,14:4,18:5,24:6,36:7};b.plugin("FontSize",{menuTitle:"\u66f4\u591a\u5b57\u53f7",style:".jqe-plugin-fontsize a{text-decoration:none;color:#333333;display:block;padding:2px;border:1px solid #eeeeee;background-color:#eeeeee;_float:left;_width:127px;padding-left:25px;}\n.jqe-plugin-fontsize a:hover{background-color:#ecf1f7;border:1px solid #aecff7;}\n.jqe-plugin-fontsize a.jqe-panel-a-hover{background-color:#ecf1f7;border:1px solid #aecff7;}\n#panel_FontSize .jqe-panel-body{padding:2px;}\n",
isNeedTitle:0,icon:{width:40,text:"\u5b57 \u53f7"},config:{width:160,HEIGHT:160},selectedSize:{},init:function(b){var h=[],e;for(e in f)lineHeight=e>22?e:22,h.push('<a href="jqe:FontSize('+e+')" style="font-size:'+e+"px;line-height:"+lineHeight+'px" size="'+f[e]+'">'+e+"px</a>");b.cache.html='<div class="jqe-plugin-fontsize">'+h.join("")+"</div>"},set:function(f,h){var e=h.selectedSize[b.eid];e||(e=4);h.setFontSize(e);h.hide();return 1},menu:function(b,f){b.set(f);return 1},action:function(f,h,e){var h=
b.eid,c=e.name,a=f.closest("[size]").attr("size"),f=f.text();a&&(b.log("run","FontSize="+a),e.selectedSize[h]=a,e.setFontSize(a),e.hide(),$("#"+h+"-"+c).find("span.jqe-icon").text(f));return!1},setFontSize:function(f){b.execCommand(this.name,!1,f)}})})(jQEditor);
(function(b){var f=[{name:"\u5b8b\u4f53",value:"SimSun"},{name:"\u4eff\u5b8b\u4f53",value:"FangSong_GB2312"},{name:"\u5fae\u8f6f\u96c5\u9ed1",value:"Microsoft YaHei"},{name:"\u9ed1\u4f53",value:"SimHei"},{name:"\u6977\u4f53",value:"KaiTi_GB2312"},"Courier New","Times New Roman","Impact","Georgia","Arial","Verdana","Tahoma"];b.plugin("FontName",{style:".jqe-plugin-fontname a{text-decoration:none;color:#333333;display:block;padding:2px 30px;border:1px solid #eeeeee;background-color:#eeeeee;_float:left;_width:120px;padding-left:25px;}.jqe-plugin-fontname a:hover{background-color:#ecf1f7;border:1px solid #aecff7;}#panel_FontName .jqe-panel-body{padding:2px;}",
isNeedTitle:0,icon:{width:40,text:"\u5b57 \u4f53"},config:{width:180,HEIGHT:340},selectedFont:{},init:function(b){for(var h=[],e,c,a,d=0,j=f.length;d<j;d++){e=typeof f[d];if(e==="string")c=f[d],a=f[d];else if(e==="object")c=f[d].value,a=f[d].name;h.push('<a href="jqe:FontName('+a+')" style="font-family: '+c+';line-height:22px" font="'+c+'">'+a+"</a>")}b.cache.html='<div class="jqe-plugin-fontname">'+h.join("")+"</div>"},set:function(f,h){h.setFontName(h.selectedFont[b.eid]||"SimSun");h.hide();return 1},
menu:function(b,f){b.set(f);return 1},action:function(f,h,e){var h=b.eid,c=e.name,a=f.closest("[font]").attr("font"),f=f.closest("[font]").text();a&&(e.selectedFont[h]=a,e.setFontName(a),e.hide(),$("#"+h+"-"+c).find("span.jqe-icon").text(f).css("font-family",a));return!1},setFontName:function(f){b.execCommand(this.name,!1,f)}})})(jQEditor);
(function(b){var f=b.mod("Menu");b.plugin("Bold",{menuType:"Menu",menuTitle:"\u66f4\u591a\u683c\u5f0f",menu:function(b,h){f.set(h.event,h.name);return 1}});f.add("Bold",{title:"\u6587\u672c\u683c\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){return{Bold:1,Italic:1,Underline:1,SubScript:1,SuperScript:1}}})})(jQEditor,jQuery);
(function(b,f){b.plugin("Video",{config:{width:350,position:"center",overlay:!0},settings:{flash_mod:'<embed src="[url]" quality="high" width="[width]" height="[height]" align="middle" allowScriptAccess="always" allowFullScreen="true" mode="transparent" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" ></embed>',url_max_len:500,url_name:"url_name",width_name:"width_name",height_name:"height_name",url_tips:"\u6587\u4ef6\u7f51\u7edc\u5730\u5740\uff1a",
tips:"\u652f\u6301.swf\u6587\u4ef6\u683c\u5f0f",size_tips:"\u6587\u4ef6\u663e\u793a\u5927\u5c0f\uff1a",width_tips:"\u5bbd\u5ea6",height_tips:"\u9ad8\u5ea6",default_url:"http://",default_width:480,default_height:400,max_wid_len:3,max_hei_len:3},init:function(){var b=this.settings;f.extend(!0,b,this._settings);this.cache.html='<table border="0" width="100%">\t\t\t<tr><td colspan="2"><strong>'+b.url_tips+'</strong></td></tr>\t\t\t<tr><td colspan="2"><input type="text" name="'+b.url_name+'" maxlength="'+
b.url_max_len+'" value="'+b.default_url+'" style="width:280px;"></td></tr>\t\t\t<tr><td colspan="2" style="color:#999999;">'+b.tips+'</td></tr>\t\t\t<tr><td colspan="2"><strong>'+b.size_tips+'</strong></td></tr>\t\t\t<tr class="input_tr"><td>'+b.width_tips+' <input type="text" name="'+b.width_name+'" value="'+b.default_width+'" maxlength="'+b.max_wid_len+'" style="width:80px;"></td>\t\t\t<td>'+b.height_tips+' <input type="text" name="'+b.height_name+'" value="'+b.default_height+'" maxlength="'+b.max_hei_len+
'" style="width:80px;"></td></tr>\t\t\t</table>'},one:function(b,e){f.extend(!0,g,e._check_data)},check:function(b,e){var c=e.settings,a=e.getValues(),d=a[c.width_name],f=a[c.height_name];return(c=g.url(a[c.url_name])||g.width(d)||g.height(f))?(e.error(c),!1):!0},get:function(b,e){var c=e.settings,a=e.getValues(),d=a[c.url_name],f=a[c.height_name];return c.flash_mod.replace("[width]",a[c.width_name]).replace("[height]",f).replace("[url]",d)},onclose:function(){},_check_data:{},_settings:{}});var g=
{settings:{min_width:200,min_height:200,url_tips:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6709\u6548\u7684\u89c6\u9891\u6587\u4ef6\u5730\u5740\uff01",wid_tips:"\u5bbd\u5ea6\u5fc5\u987b\u662f\u4e00\u4e2a\u5927\u4e8e 200 \u7684\u6574\u6570\u3002",hei_tips:"\u9ad8\u5ea6\u5fc5\u987b\u662f\u4e00\u4e2a\u5927\u4e8e 200 \u7684\u6574\u6570\u3002"},url:function(b){var e=this.settings;return!b||b.length<1?e.url_tips:!/(.*)\.(swf)$/.test(b)||b.replace(".swf","").length==0?e.url_tips:null},width:function(b){var e=this.settings;
return/^[2-9]\d{2}$/.test(b)?null:e.wid_tips},height:function(b){var e=this.settings;return/^[2-9]\d{2}$/.test(b)?null:e.hei_tips}}})(jQEditor,jQuery);
(function(b){var f=["\u00b1,\u00d7,\u00f7,\u2236,\u2211,\u220f,\u222a,\u2229,\u2208,\u2237".split(","),"\u221a,\u22a5,\u2225,\u2220,\u2312,\u222b,\u222e,\u2261,\u224c,\u2248".split(","),"\u221d,\u2260,\u226e,\u226f,\u2264,\u2265,\u221e,\u2235,\u2234,\u33d1".split(","),["\u33d2"],"\uff04,\uffe0,\uffe1,\u33ce,\u338e,\u338f,\u339c,\u339d,\u339e,\u33a1".split(","),["\u33c4","\u33d5","\u2116"],"\u0101,\u00e1,\u01ce,\u00e0,\u0113,\u00e9,\u011b,\u00e8,\u012b,\u00ed".split(","),"\u01d0,\u00ec,\u014d,\u00f3,\u01d2,\u00f2,\u016b,\u00fa,\u01d4,\u00f9".split(","),
["\u01d6","\u01d8","\u01da","\u01dc","\u00fc"]];b.plugin("SpecialChar",{isNeedTitle:0,config:{width:280},style:".jqe-plugin-SpecialChar td{width:25px;height:25px;}\t\t\t.jqe-plugin-SpecialChar .special_num{background-color:#EEEEEE;border:1px solid #EEEEEE;cursor:pointer;height:20px;width:20px;line-height:20px;color:#000;display:block;text-align:center;}\t\t\t.jqe-plugin-SpecialChar a.special_num:hover{background-color:#ECF1F7;border:1px solid #AECFF7;}",init:function(){for(var b='<ul class="jqe-plugin-SpecialChar"><table>',
h=0;h<f.length;h++){var e=f[h];b+="<tr>";for(var c=0;c<e.length;c++)b+='<td><a href="javascript:void(0)" class="special_num">'+e[c]+"</a></td>";b+="</tr>"}b+="</table></ul>";this.cache.html=b},action:function(b,f,e){b=b.closest(".jqe-plugin-SpecialChar td");b.length&&(e.pasteHTML(b.text()),e.hide());return!1}})})(jQEditor,jQuery);
(function(b){b.plugin("Code",{config:{width:600,position:"center",overlay:!0},langs:{html:"HTML/XML",js:"Javascript",css:"CSS",php:"PHP",java:"Java",py:"Python",pl:"Perl",rb:"Ruby",cs:"C#",c:"C++/C",vb:"VB/ASP"},init:function(){var b='<select name="code_language" style="margin:2px 0;">';for(index in this.langs)b+='<option value="'+index+'">'+this.langs[index]+"</option>";b+='<option value="">\u5176\u4ed6</option>';b+="</select>";this.cache.html=b+'<textarea value="" name="content" style="width:99%;height:260px"></textarea>'},
check:function(b,g){var h=b.find("[name=content]").val();return!h||h.length<1?(g.error("\u4ee3\u7801\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a!"),!1):!0},get:function(f){var g=b.mod("Utils"),h=f.find("select[name=code_language]").val(),f=f.find("[name=content]").val(),f=g.escape(f);return'<pre class="prettyprint lang-'+h+'">'+f+"</pre>"}})})(jQEditor);
(function(b,f){var g=b.mod("Event"),h=b.mod("Selection"),e=b.mod("Panel");g.bind("keydown",function(c,a){var d=a.keyCode||a.which||a.charCode,j=""+h.getText();if(!a.ctrlKey&&!a.altKey&&!(a.shiftKey||d!==27))return j?b.plugin("BaikeLink").click():(d=g.getTarget(),/^(h\d|a|b|i|u|sup|sub|font)$/i.test(d.nodeName)?(f(d).replaceWith(d.innerHTML),b.monitor("esc")):e.hide()),!1});f(document).keydown(function(b){var a=b.keyCode||b.which||b.charCode;!b.ctrlKey&&!b.altKey&&!b.shiftKey&&a===27&&e.hide()})})(jQEditor,
jQuery);
(function(b){var f=b.consts,g=typeof jqe_static_url==="string"?jqe_static_url:"./";b.plugin("HdImage",{inserthtml:"custom",config:{width:400,max_width:600,position:"center",overlay:!0},settings:{static_url:"./",moreSize:!0,maxUploadSize:"5M",moreAlign:!0,selectedClass:"selectedClass",getFileAction:function(){return alert("\u6ca1\u6709\u63d0\u4f9b\u53ef\u8c03\u7528\u7684\u4e0a\u4f20\u63a5\u53e3")},getUrlAction:function(){return alert("\u6ca1\u6709\u63d0\u4f9b\u53ef\u8c03\u7528\u7684\u4e0a\u4f20\u63a5\u53e3")}},staticAttr:{inputFileName:"photofile",
inputUrlName:"img_url",uploadFileBtn:"uploadFileBtn",urlFileBtn:"urlFileBtn",uploadShowName:"uploadShowName",urlShowName:"urlShowName",imgSizeName:"picWidthHeight",imgAlignName:"picAlign",imgDiscription:"picAlt",uploadButton:"uploadButton",uploadIsBusy:!1},style:'.jqe-plugin-HdImage{width:90%;margin:0 auto;}\t\t\t.jqe-plugin-HdImage .input_tr{height:26px;}\t\t\t.jqe-plugin-HdImage .first_span{left:15px;}\t\t\t.jqe-plugin-HdImage .last_span{left:110px;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop{position:relative;border-bottom:1px solid #009AD9;height:29px;margin:0 0 3px;padding:0;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop span{position:absolute;top:0px;color:#666666;cursor:pointer;display:inline-block;line-height:25px;text-align:center;width:80px;border-left: 1px solid #FFFFFF;border-right: 1px solid #FFFFFF;border-top: 4px solid #FFFFFF;}\t\t\t.jqe-plugin-HdImage .uploadBoxTop span.selectedClass{background-color:#FFFFFF;cursor:default;border-left: 1px solid #009AD9;border-right: 1px solid #009AD9;border-top: 4px solid #009AD9;border-bottom:2px solid #FFFFFF;color:#333333;}\t\t\t.jqe-plugin-HdImage input,textarea{color:#111111;font-family:"lucida grande",taho,verdana,"trebuchet ms",sans-serif;font-size:12px;}\t\t\t.jqe-plugin-HdImage .inputFile{height:22px;width:260px;border:1px solid #7F9DB9;}\t\t\t.jqe-plugin-HdImage .inputUrl{height:18px;line-height:18px;width:260px;border:1px solid #7F9DB9;}\t\t\t.jqe-plugin-HdImage .tips{color:#999999;line-height:22px;text-align:left;wodr-wrap:break-word;}\t\t\t.jqe-plugin-HdImage .bgImg{height:61px;background:url("'+
g+'/skins/bg/uploadimg_bg.gif") no-repeat scroll 0 0 transparent;margin:0 0 5px 10px;border:1px solid #999999;}\t\t\t.jqe-plugin-HdImage .bgImg1{background-position:0 0px;width:70px;}\t\t\t.jqe-plugin-HdImage .bgImg2{background-position:-72px -0px;width:68px;}\t\t\t.jqe-plugin-HdImage .bgImg3{background-position:-142px 0;width:69px;}\t\t\t.jqe-plugin-HdImage .alignImg{background:url("'+g+'/skins/bg/uploadimg_bg.gif") no-repeat scroll 0 0 transparent;margin:0 0 5px 10px;height:46px;border:1px solid #999999;}\t\t\t.jqe-plugin-HdImage .alignImg1{background-position:0 -69px;width:70px}\t\t\t.jqe-plugin-HdImage .alignImg2{background-position:-71px -69px;width:68px;}\t\t\t.jqe-plugin-HdImage .alignImg3{background-position:-142px -69px;width:69px;}\t\t\t.jqe-plugin-HdImage strong{line-height:22px;}',
init:function(){var b=this.staticAttr,e=this.settings,c=e.moreAlign,a='<table class="jqe-plugin-HdImage"><tr><td colspan="3"><div class="uploadBoxTop"><span name="'+b.uploadFileBtn+'" class="'+e.selectedClass+' first_span">\u4e0a\u4f20\u56fe\u7247</span><span class="last_span" name="'+b.urlFileBtn+'">\u6dfb\u52a0url</span></div></td></tr><tr name="'+b.uploadShowName+'" class="input_tr"><td colspan="3"><input class="inputFile" type="file" name="'+b.inputFileName+'" size="35"><input type="hidden" value="baike_article_create.php" name="img_src_action"></td></tr><tr name="'+
b.uploadShowName+'" class="input_tr"><td colspan="3"><label class="tips">\u56fe\u7247\u683c\u5f0f\uff1ajpg\u3001jpeg\u3001png\u3001gif\uff0c\u5927\u5c0f\u4e3a'+e.maxUploadSize+'\u4ee5\u5185</label></td></tr><tr name="'+b.urlShowName+'" style="display:none;" class="input_tr"><td colspan="3"><input type="text" class="inputUrl" name="'+b.inputUrlName+'"></td></tr><tr name="'+b.urlShowName+'" style="display:none;" class="input_tr"><td colspan="3"><label class="tips">\u6ce8:\u8bf7\u8f93\u5165\u4ee5jpg\u3001jpeg\u3001png\u3001gif\u7ed3\u675f\u7684url</label></td></tr><tr><td height="30"><strong>\u56fe\u7247\u5927\u5c0f\uff1a</strong></td><td></td><td></td></tr>';
a+=e.moreSize?'<tr><td><label><div class="bgImg bgImg1"></div><input type="radio" imgsize="_950" value="1" name="'+b.imgSizeName+'" checked="true">\u5927(\u957f\u8fb9600)</label></td><td><label><div class="bgImg bgImg2"></div><input type="radio" imgsize="_s" value="1" name="'+b.imgSizeName+'">\u4e2d(\u957f\u8fb9300)</label></td><td><label><div class="bgImg bgImg3"></div><input type="radio" imgsize="_140" value="2" name="'+b.imgSizeName+'">\u5c0f(\u957f\u8fb9140)</label></td></tr>':'<tr><td colspan="3"><table width="100%;"><tr><td style="text-align:left;"><label><div class="bgImg bgImg1"></div><input type="radio" imgsize="_s" value="1" name="'+
b.imgSizeName+'" checked="true">\u5927(\u957f\u8fb9300px)</label></td><td style="text-align:left;"><label><div class="bgImg bgImg3"></div><input type="radio" imgsize="_140" value="2" name="'+b.imgSizeName+'">\u5c0f(\u957f\u8fb9140px)</label></td></tr></table></td></tr>';a+='<tr><td height="30"><strong>\u5bf9\u9f50\u65b9\u5f0f\uff1a</strong></td><td></td><td></td></tr>';a+=c?'<tr><td><label><div class="alignImg alignImg1"></div><input type="radio" value="left" name="'+b.imgAlignName+'">\u56fe\u7247\u5c45\u5de6</label></td><td><label><div class="alignImg alignImg2"></div><input type="radio" value="center" name="'+
b.imgAlignName+'" checked="true">\u56fe\u7247\u5c45\u4e2d</label></td><td><label><div class="alignImg alignImg3"></div><input type="radio" value="right" name="'+b.imgAlignName+'">\u56fe\u7247\u5c45\u53f3</label></td></tr>':'<tr><td colspan="3"><table width="100%"><tr><td style="text-align:left;"><label><div class="alignImg alignImg2"></div><input type="radio" value="left" name="'+b.imgAlignName+'" checked="true">\u56fe\u7247\u5c45\u5de6</label></td><td style="text-align:left;"><label><div class="alignImg alignImg3"></div><input type="radio" value="right" name="'+
b.imgAlignName+'">\u56fe\u7247\u5c45\u53f3</label></td></tr></table></td></tr>';a+='<tr><td colspan="3" height="30"><strong>\u56fe\u7247\u63cf\u8ff0[<font color="red">\u5fc5\u586b</font>]\uff1a</strong></td><td></td><td></td></tr><tr><td colspan="3"><textarea style="width:95%;height:30px;" maxlength="100" name="'+b.imgDiscription+'"></textarea></td></tr></table>';this.cache.html=a},action:function(b,e,c){var a=b.attr("name");if(typeof c[a]===f.typeof_function)return c[a](b,e,c)},callback:function(b,
e){var c=e.staticAttr;b.find(":submit").replaceWith("<input type='button' value=' \u63d0 \u4ea4 ' name='"+c.uploadButton+"'>")},uploadFileBtn:function(b,e,c){var a=c.staticAttr,c=c.settings;e.find("[name="+a.uploadShowName+"]").show();e.find("[name="+a.urlShowName+"]").hide();e.find("[name="+a.urlFileBtn+"]").removeClass(c.selectedClass);b.addClass(c.selectedClass);return!1},urlFileBtn:function(b,e,c){var a=c.staticAttr,c=c.settings;e.find("[name="+a.uploadShowName+"]").hide();e.find("[name="+a.urlShowName+
"]").show();e.find("[name="+a.uploadFileBtn+"]").removeClass(c.selectedClass);b.addClass(c.selectedClass);return!1},ok:function(){},onclose:function(b,e){e.staticAttr.uploadIsBusy=!1},uploadButton:function(b,e,c){var a=c.staticAttr,d=c.settings,b=e.find("[name="+a.inputFileName+"]"),f=$.trim(e.find("[name="+a.inputUrlName+"]").val()),g=$.trim(e.find("[name="+a.imgDiscription+"]").val()),k=/^(http\:\/\/)(\w|\.|\/)+\.(jpg|jpeg|gif|png)$/i;if((e=e.find("[name="+a.uploadFileBtn+"]").attr("class").indexOf(d.selectedClass)>
-1)&&!c._checkFile(b))return c.error("\u63d0\u793a\uff1a\u8bf7\u9009\u62e9\u4e00\u4e2a\u6709\u6548\u7684\u56fe\u7247\u6587\u4ef6\uff01"),!1;else if(!e)if(f.length<1)return c.error("url\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"),!1;else if(!k.test(f))return c.error("url\u5730\u5740\u683c\u5f0f\u6709\u8bef!"),!1;if(g.length<1)return c.error("\u8bf7\u586b\u5199\u56fe\u7247\u63cf\u8ff0\uff0c\u826f\u597d\u7684\u63cf\u8ff0\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u7406\u89e3\u56fe\u7247\uff01"),!1;else if(g.length>
500)return c.error("\u8fc7\u591a\u7684\u56fe\u7247\u63cf\u8ff0\u53ef\u80fd\u4f1a\u5f71\u54cd\u9875\u9762\u5e03\u5c40\uff01"),!1;c._uploadFile();c.lock();setTimeout(function(){c.unlock()},1E4)},_uploadFile:function(){var f=b.plugin("HdImage"),e=f.staticAttr;e.uploadIsBusy?f.error("\u8bf7\u7a0d\u540e..."):(e.uploadIsBusy=!0,$("#articleUpload_iframe").length||$("body").append('<iframe id="articleUpload_iframe" name="articleUpload_iframe" width="0" height="0"></iframe>'),f._uploadForm("articleUpload_iframe"))},
_uploadForm:function(f){var e=b.plugin("HdImage"),c=e.panel,a=e.staticAttr,d=e.settings,g=c.find("[name="+a.uploadFileBtn+"]"),c=c.find("form"),d=e.settings,f={target:f,method:"POST",onsubmit:"return true"},l=null,l=null;if(g.attr("class").indexOf(d.selectedClass)>-1){l=d.getFileAction();if(!l)return a.uploadIsBusy=!1;f.encoding="multipart/form-data"}else{l=d.getUrlAction();if(!l)return a.uploadIsBusy=!1;f.encoding="application/x-www-form-urlencoded"}if(typeof l==="string")f.action=l;else if(typeof l===
"object"&&(f.action=l.action,typeof l.postParms==="object")){var l=l.postParms,k;for(k in l)c.append('<input type="hidden" name="'+k+'" value="'+l[k]+'">')}c.attr(f);e.error("\u56fe\u7247\u4e0a\u4f20\u4e2d....");c.submit()},insert:function(f,e){var c=b.plugin("HdImage"),a=c.panel,d=c.staticAttr,g=new Image,l=f,k=a.find("[name="+d.imgSizeName+"]:checked").attr("imgsize"),l=f.replace(/_140|_s|_950/i,k);c.unlock();g.onload=function(){var f,h,k=parseInt(g.width),n=0;f=a.find("[name="+d.imgDiscription+
"]").val();!f&&$("_doc_title").length?f=$("_doc_title").val():!f&&$("title").length&&(f=$("title").val());n=k>c.config.max_width?c.config.max_width:k;h=a.find("[name="+d.imgAlignName+"]:checked").val();var p="",p="width:"+n+"px;";h=="left"?h="img_l":h=="right"?h="img_r":(h="img_c",p="width:"+n+"px;");p='<br /><br /><DIV class="img '+h+'" style="'+p+'">';e&&(p+='<A title="'+f+'" href="'+e+'" target=_blank>');p+='<IMG title="'+f+'" alt="'+f+'"';k>c.config.max_width&&(p+=' width="'+n+'"');p+=' src="'+
l+'"/>';e&&(p+="</A>");p+="<STRONG>"+f+"</STRONG></DIV><br />";c.pasteHTML(p);c.hide();b.monitor(c.name);g.onload=function(){};d.uploadIsBusy=!1};g.onerror=function(){c.error("\u63d0\u793a\uff1a\u56fe\u7247\u63d2\u5165\u5931\u8d25\uff01");d.uploadIsBusy=!1};g.src=l},_checkFile:function(b){return b.val().length==0?!1:!/\.(jpg|jpeg|gif|png)$/i.test(b.val())?!1:!0}})})(jQEditor);
(function(b){b.addFilter("default",{type:"html",replace:function(b){if(typeof b!=="string"||!b)return b;b=b.replace(/^\s+/g,"");b=b.replace(/\s+$/g,"");b=b.replace(/>\s+</g,"><");b=b.replace(/<\/?textarea>/ig,"");b=b.replace(/<(div|strong|span|a)[^>]*?>\s*<\/\1>/ig,"");b=b.replace(/<(span|font)>([^<]+)<\/\1>/ig,"$2");b=b.replace(/<\??xml(:\w+)?(\s+[^>]*?)?>([\s\S]*?<\/xml>)?/ig,"");b=b.replace(/<\/?(html|head|body|meta|title|iframe|frame|object)(\s+[^>]*?)?>/ig,"");b=b.replace(/<link(\s+[^>]*?)?>/ig,
"");b=b.replace(/<script(\s+[^>]*?)?>[\s\S]*?<\/script>/ig,"");b=b.replace(/(<\w+)(\s+[^>]*?)?\s+on(?:click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|keydown|keypress|keyup|change|select|submit|reset|blur|focus|load|unload)\s*=\s*(["']?).*?\3((?:\s+[^>]*?)?\/?>)/ig,"$1$2$4");b=b.replace(/<style(\s+[^>]*?)?>[\s\S]*?<\/style>/ig,"");b=b.replace(/(<\w+)(\s+[^>]*?)?\s+(style|class)\s*=\s*(["']?).*?\3((?:\s+[^>]*?)?\/?>)/ig,"$1$2$4");b=b.replace(/<\/(strong|b|u|strike|em|i)>((?:\s|<br\/?>|&nbsp;)*?)<\1(\s+[^>]*?)?>/ig,
"$2");b=b.replace(/class=\"Apple-style-span\"/ig,"");b=b.replace(/ jquery\d+=\"?\d+\"?/ig," ");b=b.replace(/<\!--\[if gte mso [0-9]{1,2}\]>[\s\S]*?<!\[endif\]--\>/ig,"");b=b.replace(/<style>[\s\S]*?mso[\s\S]*?<\/style>/ig,"");b=b.replace(/ lang=".+?"/ig,"");b=b.replace(/<o:p><\/o:p>/ig,"");b=b.replace(/ class="Mso.+?"/ig,"");return b=b.replace(/ mso-spacerun: 'yes'/ig,"")}})})(jQEditor,jQuery);
(function(b){var f=b.consts;b.addFilter("xhtml",{type:"html",replace:function(b){if(typeof b!="string"||!b)return b;var h,b=b.replace(/<(br|hr)>/ig,"<$1 />"),b=b.replace(/<(img[^>]*)([^\/])>/ig,"<$1$2 />");if(!f.IE)return b;h=/(<\/?)([A-Z]+)>/g;b=b.replace(h,function(b,c,a){return c+a.toLowerCase()+">"});h=/<([A-Z]+)([^>]*)>/g;return b=b.replace(h,function(b,c,a){a=a.replace(/\s([A-Z]+)=/g,function(a,b){return" "+b.toLowerCase()+"="});a=a.replace(/\s+(\w+=)(\w[^\s]+)/g,function(a,b,c){return" "+b+
'"'+c+'"'});return"<"+c.toLowerCase()+a+">"})}})})(jQEditor,jQuery);
(function(b,f){var g=/^(p|blockquote|center|dir|div|form|ol|ul|pre|dl|talbe|h[123456r]|audio|canvas|section|video)$/i,h=b.addFilter("paragraph",{replace:function(e){if(typeof e!="object"||!e.body)return e;for(var c,a=b.$("body")[0].childNodes,d=[],h=[],l=0,k=a.length;l<k;l++)if(c=a[l],1===c.nodeType)g.test(c.nodeName)?h.length&&(d.push(h),h=[]):h.push(c);else if(3===c.nodeType){var i=f.trim(b.$(c).text());i&&(b.$(c).text(i),h.push(c))}h.length&&d.push(h);l=0;for(k=d.length;l<k;l++){c=e.createElement("p");
a=d[l];b.$(a[0]).before(c);h=0;for(i=a.length;h<i;h++)b.$(c).append(a[h])}}});b.Event.bind("oncomplete",function(b){h.replace(b.dom)})})(jQEditor,jQuery);
(function(b,f){var g=location.hostname.replace(/\./g,"\\."),h=RegExp("^http:\\/\\/"+g,"i");b.addFilter("hdwiki",{replace:function(e){if(typeof e!="object"||!e.body)return e;b.$("a").each(function(){var b=f(this),a=b.attr("href"),d=b.text();b.is(".innerlink,.baikelink")||/innerlink/i.test(a)?b.attr("href","index.php?doc-innerlink-"+encodeURI(d)):a&&(a=a.toLowerCase(),a.indexOf("http:")===0&&!h.test(a)&&b.replaceWith(b.html()))})}})})(jQEditor,jQuery);
(function(b,f){var g=/^javascript:/i;b.addFilter("xss",{replace:function(b){if(typeof b!="object"||!b.body)return b;f("a",b).each(function(){var b=f(this),c=b.attr("href");c&&(c=c.replace(/\s/g,""),g.test(c)&&b.replaceWith(b.html()))});f("img",b).each(function(){var b=f(this),c=b.attr("src");c&&(c=c.replace(/\s/g,""),g.test(c)&&b.remove())})}})})(jQEditor,jQuery);
(function(b,f){function g(){var a=b.config("tagAndDisablePlugin"),d=a["*"],g=[],l=e.getElement(),k=c.getRange();for(tagName in l)if(a[tagName])if(f.isArray(a[tagName]))g=g.concat(a[tagName]);else{g="*";break}if("*"===g)for(var i in d)b.disablePlugin(d[i]);else{for(i in d)b.enablePlugin(d[i]);if(f.isArray(g)&&g.length)for(var o in g)b.disablePlugin(g[o])}i=c.getHtml();d=""+c.getText();l={};g=null;if(h.IE){if(i)/<t(d|h)/i.test(i)&&(l.table=1),/<h2/i.test(i)&&(l.h2=1),/<h3/i.test(i)&&(l.h3=1),/<img/i.test(i)&&
(l.img=1),/<pre/i.test(i)&&(l.pre=1)}else if(d){var k=i.getRangeAt(0),k=k.cloneContents().childNodes,m;for(i=0;i<k.length;i++)m=k[i].nodeName.toLowerCase(),l[m]=1}l.talbe?g=a.selectedTable:d&&d.length>40&&(g=["BaikeLink","H1","H2"]);if(f.isArray(g)&&g.length)for(o in g)b.disablePlugin(g[o])}var h=b.consts,e=b.mod("Event"),c=b.mod("Selection");e.bind("mouseup",function(a,b){g(b)});e.bind("keyup",function(a,b){g(b)})})(jQEditor,jQuery);
(function(b,f){var g=b.mod("Event");g.bind("keydown",function(b,e){f(g.getTarget());if(e.keyCode!==13)return!0});g.bind("keyup",function(b,e){f(g.getTarget());if(e.keyCode!==13)return!0})})(jQEditor,jQuery);
(function(b,f){if(typeof f.isEmptyObject!=="function")f.isEmptyObject=function(b){if(!b||typeof b!=="object")return!0;for(var a in b)return!1;return!0};var g=b.mod("Event"),h=b.config("ctrlKeys"),e=b.config("ctrlShiftKeys");f.isEmptyObject(h)&&f.isEmptyObject(e)?b.log("run","ctrlKeys && ctrlShiftKeys is empty"):(b.log("run","shortcutKey is binded"),g.bind("keydown",function(c,a){if(!a.ctrlKey)return!0;var d=null,f=a.keyCode||a.which||a.charCode;a.ctrlKey&&!a.altKey&&(d=a.shiftKey?e[f]:h[f]);if(d)return(f=
b.plugin(d))?(f.isEnabled()&&f.click(null,f),b.log("run","\u6267\u884c\u5feb\u6377\u952e\u547d\u4ee4"+d)):b.execCommand(d,null,null),!1;else(f<16||f>18)&&b.log("run","keyCode:"+f)}))})(jQEditor,jQuery);
(function(b,f){function g(){var a=b.$("body").children(),d=b.$("body").html(),d=f.trim(d);if(d==="")return b.$("body").html(c);else if(!a.size())return b.$("body").html("<p>"+d+"</p>");a.eq(0);var a=a.eq(a.length-1),e="";a.is("p")?(e=a.html(),(e=f.trim(e))&&">"==e.substr(e.length-1)&&!a.children().last().is("br")?b.$("body").append(c):e||a.append(h.IE?"&nbsp;":"<br/>")):b.$("body").append(c);/^\s*<(h\d|table|div)/i.test(d)&&b.$("body").prepend(c)}var h=b.consts,e=b.mod("Event"),c=h.IE?"<p>&nbsp;</p>":
"<p><br></p>";e.bind("onmonitor",function(){g()});e.bind("oncomplete",function(){g()})})(jQEditor,jQuery);
(function(b,f){var g=b.mod("Panel"),h=null;b.plugin("Dialog",{title:"\u63d0\u793a",config:{width:350,position:"center",overlay:!0},show:function(b,c,a){var d=f(window).width(),a=typeof a==="number"?a:350;a<200&&(a=200);a>d&&(a=d);if(b)h.title=b;h.config.width=a;h.cache.html=c;g.set(h)},showError:function(b){h.show("\u63d0\u793a",'<table width="100%"><tr><td valign="center" align="center" style="height:150px;line-height:150%;color:red;">'+b+"</td></tr></table>")},showNotice:function(b){h.show("\u63d0\u793a",
'<table width="100%"><tr><td valign="center" align="center" style="height:180px;line-height:150%;color:#666666;">'+b+"</td></tr></table>")}});h=b.plugin("Dialog")})(jQEditor,jQuery);(function(b){var f={};b.mod("Event").bind("onafteraction",function(g){g=g.Plugin.name;f[g]?f[g]+=1:f[g]=1;b.log("run",g+"\u88ab\u70b9\u51fb\u4e86"+f[g]+"\u6b21")});b.plugin("ClickCount",{get:function(){return ClickCount}})})(jQEditor,jQuery);
(function(b,f){function g(c){b.get("document");var a=h.getElement(),d="",e="";/^(circle|disc|square)$/i.test(c)?(e="ul",d="InsertUnorderedList"):(e="ol",d="InsertOrderedList");a[e]||b.execCommand(d);b.$("ol,ul").each(function(b,d){var e=f(d),g=e.css("list-style-type");(!e.attr("style")||d===a.ol||d===a.ul)&&g!==c&&e.css("list-style-type",c)})}var h=b.mod("Event"),e=b.mod("Menu");b.plugin("InsertOrderedList",{menuType:"Menu",menuTitle:"\u66f4\u591a\u5217\u8868\u6837\u5f0f",menu:function(b,a){e.set(a.event,
a.name);return 1}});b.plugin("InsertUnorderedList",{menuType:"Menu",menuTitle:"\u66f4\u591a\u5217\u8868\u6837\u5f0f",menu:function(b,a){e.set(a.event,a.name);return 1}});e.add("InsertOrderedList",{title:"\u66f4\u591a\u5217\u8868\u6837\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},getHtml:function(){return{List_123:1,List_a_b:1,List_A_B:1,List_i_ii:1,List_I_II:1}}});e.add("InsertUnorderedList",{title:"\u66f4\u591a\u5217\u8868\u6837\u5f0f\u4e0b\u62c9\u83dc\u5355",check:function(){return!0},
getHtml:function(){return{List_circle:1,List_disc:1,List_square:1}}});b.plugin("List_123",{click:function(){g("decimal");return!0}});b.plugin("List_a_b",{click:function(){g("lower-alpha");return!0}});b.plugin("List_A_B",{click:function(){g("upper-alpha");return!0}});b.plugin("List_i_ii",{click:function(){g("lower-roman");return!0}});b.plugin("List_I_II",{click:function(){g("upper-roman");return!0}});b.plugin("List_circle",{click:function(){g("circle");return!0}});b.plugin("List_disc",{click:function(){g("disc");
return!0}});b.plugin("List_square",{click:function(){g("square");return!0}})})(jQEditor,jQuery);(function(b){var f=b.consts.IE?"<p>&nbsp;</p>":"<p><br></p>";b.plugin("ClearDoc",{click:function(){confirm("\u786e\u5b9a\u6e05\u7a7a\u6240\u6709\u5185\u5bb9\u5417\uff1f")&&(b.setHTML(f),b.focus(),b.hidePanel())}})})(jQEditor,jQuery);
(function(b){function f(b){if(typeof b!=="string"||!b)b="Y-m-d";var c=new Date,a,d;a=c.getFullYear();d=c.getMonth()+1;c=c.getDate();return b.replace("Date_","").replace("Y",a).replace("m",d).replace("d",c)}function g(){var b=new Date;return b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()}var h=b.mod("Menu");b.plugin("InsertDate",{menuTitle:"\u66f4\u591a\u65e5\u671f\u683c\u5f0f",click:function(){this.pasteHTML("2011-08-20")},menu:function(b,c){h.set(c.event,c.name);return 1}});b.plugin("InsertTime",
{click:function(){this.pasteHTML(g())}});h.add("InsertDate",{title:"\u66f4\u591a\u65e5\u671f\u683c\u5f0f",check:function(){return!0},getHtml:function(){return{"Date_Y-m-d":1,"Date_Y/m/d":1,"Date_Y.m.d":1,"Date_Y\u5e74m\u6708d\u65e5":1}}});b.plugin("Date_Y-m-d",{click:function(b,c){this.pasteHTML(f(c.name));return!0}});b.plugin("Date_Y/m/d",{click:function(b,c){this.pasteHTML(f(c.name));return!0}});b.plugin("Date_Y.m.d",{click:function(b,c){this.pasteHTML(f(c.name));return!0}});b.plugin("Date_Y\u5e74m\u6708d\u65e5",
{click:function(b,c){this.pasteHTML(f(c.name));return!0}})})(jQEditor);
(function(b){var f;b.plugin("GoogleMap",{language:"zh-cn",config:{width:600,height:360,position:"center",overlay:!0},init:function(b){b.cache.html='<div class="jqe-plugin-googlemap" style="margin:5px 0"></div>'},iframeLoad:function(b){f=b.win},one:function(f){var f=f.find(".jqe-plugin-googlemap"),h={id:"GoogleMap",autoHeight:!0,contentEditable:!1,iframeSrc:b.config("jqePath")+"/plugin_html/GoogleMap.html",iframeStyle:{width:"100%",height:"350px",margin:"0"}};b.iframe(h,f,"")},get:function(b,h){var e=
f.Main,c=e.map,a=c.getCenter().lat()+","+c.getCenter().lng(),d=e.marker?e.marker.position:a,j=c.getZoom(),c=c.getMapTypeId();return'<img class="googlemap" src="'+("http://maps.google.com/maps/api/staticmap?center="+a+"&zoom="+j+"&size=520x340&maptype="+c+"&markers="+d+"&language="+h.language+"&sensor=false")+'" title="'+e.address+'" alt="'+e.address+'"/>'}})})(jQEditor);
(function(b){function f(b,a,d){d=d||(new Date).getHours();return d>=b&&d<a&&(!e||e.h<b||e.h>=a)?!0:!1}function g(){var b=new Date,a=b.getHours(),b=b.getMinutes();return{h:a,m:b}}function h(c){var c=c||3E3,a="";f(0,2)?a="Hi\uff01\u592a\u665a\u4e86\uff0c\u8be5\u4f11\u606f\u5566\uff0c\u6709\u4ec0\u4e48\u4e8b\u5929\u660e\u4e86\u518d\u641e\u5427":f(2,4)?a="\u600e\u4e48\u8fd8\u6ca1\u6709\u4f11\u606f\u5462\uff1f\u592a\u8f9b\u82e6\u4e86\uff0c\u8981\u4e0d\u5148\u559d\u70b9\u4ec0\u4e48\uff1f":f(4,6)?a="\u5929\u8981\u4eae\u4e86\uff0c\u6293\u7d27\u65f6\u95f4\u4f11\u606f\u4f1a\u5427\uff01":
f(6,8)?a="\u54c7\uff01\u8fd9\u4e48\u65e9\u5c31\u6765\u4e86\uff0c\u6ca1\u5403\u65e9\u9910\u7684\u8bdd\u8bb0\u5f97\u5403\u54e6\uff01":f(8,9)?a="\u65e9\u4e0a\u597d\uff01\u65e9\u9910\u5f88\u91cd\u8981\uff0c\u522b\u5fd8\u4e86\u5403\u54e6\uff01":f(12,13)?a="\u5348\u9910\u8981\u5403\u597d\uff0c\u60a8\u5403\u4e86\u5417\uff1f":f(13,14)?a="\u5348\u4f11\u65f6\u95f4\uff0c\u5efa\u8bae\u60a8\u4f11\u606f\u4e00\u4f1a":f(18,19)?a="\u665a\u9910\u65f6\u95f4\u5230\u4e86\uff0c\u665a\u9910\u53ef\u4ee5\u5c11\u5403\u4e00\u4e9b\u54e6":
f(22,23)?a="Hi\uff0c\u65e9\u70b9\u4f11\u606f\u5427\uff0c\u65e9\u7761\u65e9\u8d77\u8eab\u4f53\u68d2\uff01":f(23,24)&&(a="\u591c\u6df1\u4eba\u9759\u4e86\uff0c\u8d76\u7d27\u4f11\u606f\u5427\uff0c\u8eab\u4f53\u6bd4\u5de5\u4f5c\u66f4\u91cd\u8981\uff01");e=g();a&&b.showNotice(a,c)}var e;setTimeout(function(){var c=b.get("option");$.inArray("plugin.Hello",c.disabled)==-1&&(g(),h(5E3),setInterval(h,3E4))},2E3)})(jQEditor);
